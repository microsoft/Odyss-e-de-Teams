(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{149:function(e,t,a){e.exports=a(335)},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},170:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(35),s=a.n(r),l=a(24),o=a(126),c=a(32),u=a(106),m=a(127),d=a(53),p=a(49);p.initialize((function(){console.log("Go Teams"),p.getContext((function(e){u.a.init({react:{useSuspense:!1},fallbackLng:"en",lng:"fr-"===e.locale.toLocaleLowerCase().slice(0,3)?"fr":"en",debug:!0})}))})),u.a.use(m.a).use(d.e).init({react:{useSuspense:!1},fallbackLng:"en",lng:"fr-fr"===navigator.language.toLocaleLowerCase()||"fr"===navigator.language?"fr":"en",debug:!0});var v=u.a;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(46),h=a(118),f=a(131),g=a.n(f),E=a(132),b=a.n(E),y=a(34),N={quizz:{isLoading:!1,step:1,hasReponse:!1,listQuestion:[],selectedModule:null,selectedNiveau:null,hasAlreadyPaused:!1},user:{currentUser:null,currentOrganisation:null,currentCampaign:null,dataLevelUp:null,listNewMedal:null}},k=Object(_.b)({quizz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.quizz,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_QUESTION":return Object(y.a)(Object(y.a)({},e),{},{listQuestion:t.value})||e;case"SET_MODULE_NIVEAU":return Object(y.a)(Object(y.a)({},e),{},{selectedModule:t.value.module,selectedNiveau:t.value.niveau})||e;case"SET_PAUSE_QUIZZ":return Object(y.a)(Object(y.a)({},e),{},{hasAlreadyPaused:t.value})||e;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(y.a)(Object(y.a)({},e),{},{currentUser:t.value})||e;case"SET_CURRENT_ORGANISATION":return Object(y.a)(Object(y.a)({},e),{},{currentOrganisation:t.value})||e;case"SET_CURRENT_CAMPAIGN":return Object(y.a)(Object(y.a)({},e),{},{currentCampaign:t.value})||e;case"LEVEL_UP":return Object(y.a)(Object(y.a)({},e),{},{dataLevelUp:t.value})||e;case"NEW_MEDAL":return Object(y.a)(Object(y.a)({},e),{},{listNewMedal:t.value})||e;default:return e}}}),x={key:"root",storage:g.a,stateReconciler:b.a,whitelist:["quizz"]},w=Object(h.a)(x,k),O=Object(_.c)(w),C=Object(h.b)(O),j=a(5),M=a(6),S=a(9),q=a(8),R=a(31),T=a(352),z=a(133),I=a.n(z),A=a(341),P=(a(160),a(161),a(162),function(){return i.a.createElement("div",{className:"Loader"},"Loading ...")}),L=a(134),U=(a(163),Object(A.a)()((function(e){var t=e.t,a=e.isMobile;return i.a.createElement("div",{className:"Welcome d-flex h-100 flex-column justify-content-center px-5"},i.a.createElement("h1",null,t("landing.welcome.text")),i.a.createElement("div",{className:"Welcome__logo mt-4 mb-5"},i.a.createElement("img",{src:"/images/logo/"+v.language+"/logo_gauche_blanc.png",alt:"logo",className:"teams_logo"})),i.a.createElement("h3",{className:"Welcome__body mb-4 mt-3"},t(a?"landing.welcome.body-mobile":"landing.welcome.body")),i.a.createElement(L.a,{variant:"primary",className:"d-inline-block py-3 py-md-2 mt-4 mt-md-2",onClick:e.onClickNext},t("landing.welcome.buttonText")))}))),D=a(342),W=(a(170),Object(A.a)()((function(e){var t=e.t;return i.a.createElement("div",{className:"Description d-flex h-100 flex-column justify-content-center px-5 px-md-0 mx-auto"},i.a.createElement("div",{className:"Description__logo mt-4 mb-5"},i.a.createElement("img",{src:"/images/logo/"+v.language+"/logo_gauche_blanc.png",alt:"logo",className:"teams_logo"})),i.a.createElement("div",{className:"Description__body mb-4 mt-3"},i.a.createElement("div",{className:"Description__body__elt"},i.a.createElement("div",{className:"Description__body__elt__img"},i.a.createElement("img",{src:"images/rewards/greenlantern-planet-10x.png",alt:"greenlantern-planet-10x"})),i.a.createElement("div",{className:"Description__body__elt__text"},i.a.createElement(D.a,{i18nKey:"landing.description.medals"},"25 ",i.a.createElement("strong",null,"m\xe9dailles")," \xe0 collectionner pour exhiber votre talent d'explorateur de la collaboration !"))),i.a.createElement("div",{className:"Description__body__elt"},i.a.createElement("div",{className:"Description__body__elt__img"},i.a.createElement("img",{src:"images/rewards/cup-10x.png",alt:"cup-10x"})),i.a.createElement("div",{className:"Description__body__elt__text"},i.a.createElement(D.a,{i18nKey:"landing.description.questions"},"200 ",i.a.createElement("strong",null,"questions")," pour vous propulser sur Microsoft Teams"))),i.a.createElement("div",{className:"Description__body__elt"},i.a.createElement("div",{className:"Description__body__elt__img"},i.a.createElement("img",{src:"images/rewards/gummystars-10x.png",alt:"gummystars-10x"})),i.a.createElement("div",{className:"Description__body__elt__text"},i.a.createElement(D.a,{i18nKey:"landing.description.reward"},"Une ",i.a.createElement("strong",null," r\xe9compense d'honneur "),' pour le meilleur explorateur"'))),i.a.createElement("div",{className:"Description__body__elt"},i.a.createElement("div",{className:"Description__body__elt__img"},i.a.createElement("img",{src:"images/rewards/chest-10x.png",alt:"chest-10x"})),i.a.createElement("div",{className:"Description__body__elt__text"},i.a.createElement("strong",null,t("landing.description.gifts_1")),t("landing.description.gifts_2")))),i.a.createElement("div",{className:"Description__button"},i.a.createElement(L.a,{variant:"primary",className:"d-inline-block py-3 py-md-2 mt-4 mt-md-2",onClick:e.onClickNext},t("landing.description.buttonText"))))}))),B=a(33),Q=a(354),G=(a(175),Object(A.a)()((function(e){var t=e.t,a=e.onClickNext,r=window.innerWidth<768,s=Object(n.useState)(!1),l=Object(B.a)(s,2),o=l[0],c=l[1];return i.a.createElement("div",{className:"CGU d-flex flex-column align-items-center justify-content-center h-100 mx-auto"},r&&i.a.createElement("div",{className:"CGU__logo"},i.a.createElement("img",{src:"/images/logo/logo_gauche_blanc.png",alt:"logo"})),i.a.createElement("div",{className:"CGU__container p-4 m-2 m-md-0"},i.a.createElement("div",{className:"CGU__container__title mb-4"},t("landing.CGU.title")),i.a.createElement("div",{className:"CGU__container__body mb-4"},i.a.createElement(D.a,{i18nKey:"CGU_microsoft"},i.a.createElement("p",null,"Nous accordons la plus grande importance \xe0 la confidentialit\xe9 de vos informations. Cette d\xe9claration de confidentialit\xe9 explique quelles sont les donn\xe9es personnelles trait\xe9es par Microsoft, comment Microsoft les traite et \xe0 quelles fins."),i.a.createElement("p",null,"Microsoft propose une large gamme de produits, notamment des produits serveur utilis\xe9s pour faciliter le fonctionnement des entreprises du monde entier, les appareils que vous utilisez chez vous, les logiciels dont se servent les \xe9tudiants en cours et les services auxquels les d\xe9veloppeurs font appel pour cr\xe9er et h\xe9berger les produits du futur. Les r\xe9f\xe9rences aux produits Microsoft dans cette d\xe9claration comprennent les services, les sites web, les applications, les logiciels, les serveurs et les appareils Microsoft."),i.a.createElement("p",null,"Veuillez lire les d\xe9tails sp\xe9cifiques aux produits dans la pr\xe9sente d\xe9claration de confidentialit\xe9 pour plus de pr\xe9cisions. Cette d\xe9claration s\u2019applique aux interactions entre Microsoft et vous-m\xeame, aux produits Microsoft r\xe9pertori\xe9s ci-dessous, ainsi qu\u2019\xe0 d\u2019autres produits Microsoft entra\xeenant l\u2019affichage de cette d\xe9claration."),i.a.createElement("h4",null,"Les donn\xe9es personnelles que nous recueillons"),i.a.createElement("p",null,"Microsoft recueille des donn\xe9es que vous lui fournissez dans le cadre de ses interactions avec vous et \xe0 travers ses produits. Vous fournissez certaines de ces informations directement et nous en obtenons d'autres en recueillant des donn\xe9es sur votre mani\xe8re d'interagir avec nos produits, de les utiliser et de les appr\xe9cier. Les donn\xe9es recueillies varient selon le contexte de vos interactions avec Microsoft, les choix que vous effectuez (notamment concernant vos param\xe8tres de confidentialit\xe9), les produits et les fonctionnalit\xe9s que vous utilisez. Nous recueillons \xe9galement des donn\xe9es vous concernant aupr\xe8s de tiers."),i.a.createElement("p",null,"Si vous repr\xe9sentez une organisation (par exemple, une entreprise ou un \xe9tablissement scolaire) qui utilise des produits pour entreprises et d\xe9veloppeurs de Microsoft, consultez la section Produits pour entreprises et d\xe9veloppeurs de la pr\xe9sente d\xe9claration de confidentialit\xe9 pour d\xe9couvrir comment nous traitons vos donn\xe9es. Si vous \xeates l\u2019utilisateur final d\u2019un produit Microsoft ou d\u2019un compte Microsoft fourni par votre organisation, consultez les sections Produits fournis par votre organisation et Compte Microsoft pour plus d\u2019informations."),i.a.createElement("p",null,"Vous pouvez d\xe9cider des technologies que vous souhaitez utiliser et des donn\xe9es que vous souhaitez partager. Lorsque nous vous demandons de fournir des donn\xe9es personnelles, vous pouvez refuser. Toutefois, la plupart de nos produits n\xe9cessitent certaines donn\xe9es personnelles car elles nous permettent de vous offrir un service. Si vous choisissez de ne pas fournir les donn\xe9es requises qui nous permettent de vous proposer un produit ou une fonctionnalit\xe9, vous ne pourrez pas utiliser le produit ou la fonctionnalit\xe9 en question. De m\xeame, si nous devons recueillir des donn\xe9es personnelles conform\xe9ment \xe0 la loi ou pour conclure ou mener \xe0 bien un contrat avec vous, et que vous ne les fournissez pas, nous ne serons pas en mesure de conclure le contrat en question ; pour les m\xeames raisons, si cela concerne un produit existant que vous utilisez, nous pouvons \xeatre amen\xe9s \xe0 suspendre ou annuler votre utilisation de ce dernier. Si tel est le cas, nous vous pr\xe9viendrons le moment venu. Si la fourniture de donn\xe9es est facultative et que vous choisissez de ne pas partager vos donn\xe9es personnelles, vous ne pourrez pas acc\xe9der \xe0 certaines fonctionnalit\xe9s qui les utilisent, comme par exemple la personnalisation qui ne fonctionnera pas pour vous."),i.a.createElement("h4",null,"Comment nous utilisons les donn\xe9es personnelles"),i.a.createElement("p",null,"Microsoft utilise les donn\xe9es recueillies dans le but de vous offrir des exp\xe9riences riches et interactives. En particulier, nous utilisons les donn\xe9es pour :"),i.a.createElement("ul",null,i.a.createElement("li",null,"fournir nos produits, ce qui inclut la mise \xe0 jour, la s\xe9curisation, la r\xe9solution des probl\xe8mes, ainsi que la fourniture du support ; cela comprend \xe9galement le partage des donn\xe9es, lorsqu\u2019il est n\xe9cessaire \xe0 la fourniture du service ou pour mener \xe0 bien les transactions que vous demandez ;"),i.a.createElement("li",null,"am\xe9liorer et d\xe9velopper nos produits ;"),i.a.createElement("li",null,"personnaliser nos produits et effectuer des recommandations ;"),i.a.createElement("li",null,"vous adresser de la publicit\xe9 et des communications marketing, ce qui comprend de vous envoyer des communications promotionnelles, des publicit\xe9s cibl\xe9es et des pr\xe9sentations d'offres susceptibles de vous int\xe9resser.")),i.a.createElement("p",null,"Nous utilisons \xe9galement les donn\xe9es pour mener nos activit\xe9s, notamment pour analyser nos performances, nous conformer \xe0 nos obligations l\xe9gales, d\xe9velopper nos m\xe9thodes de travail et effectuer des recherches."),i.a.createElement("p",null,"Pour ces finalit\xe9s, nous combinons les donn\xe9es que nous recueillons dans diff\xe9rents contextes (par exemple, provenant de votre utilisation de deux produits Microsoft) ou que nous obtenons aupr\xe8s de tiers pour vous donner une exp\xe9rience plus homog\xe8ne, coh\xe9rente et personnalis\xe9e, pour prendre des d\xe9cisions avis\xe9es et \xe0 d\u2019autres fins l\xe9gitimes."),i.a.createElement("p",null,"Notre traitement de donn\xe9es personnelles \xe0 ces fins inclut \xe0 la fois des m\xe9thodes de traitement automatis\xe9es et manuelles (humaines). Nos m\xe9thodes automatis\xe9es sont souvent li\xe9es \xe0 nos m\xe9thodes manuelles et prises en charge par celles-ci. Par exemple, nos m\xe9thodes automatis\xe9es comprennent l\u2019intelligence artificielle (IA), que nous consid\xe9rons comme un ensemble de technologies qui permettent aux ordinateurs de percevoir, d\u2019apprendre, de d\xe9duire et d\u2019aider \xe0 prendre des d\xe9cisions pour r\xe9soudre les probl\xe8mes de mani\xe8re similaire \xe0 ce que les personnes font. Pour cr\xe9er, former et am\xe9liorer la pr\xe9cision de nos m\xe9thodes de traitement automatis\xe9es (notamment l'IA), nous examinons manuellement certaines des pr\xe9dictions et d\xe9ductions produites par les m\xe9thodes automatis\xe9es par rapport aux donn\xe9es sous-jacentes \xe0 partir desquelles les pr\xe9visions et les d\xe9ductions ont \xe9t\xe9 effectu\xe9es. Par exemple, nous examinons manuellement les extraits de code courts d\u2019un petit \xe9chantillon de donn\xe9es vocales. Nous avons suivi des \xe9tapes pour emp\xeacher l'identification afin d'am\xe9liorer nos services vocaux, tels que la reconnaissance et la traduction."),i.a.createElement("p",null,"Raisons pour lesquelles nous partageons vos donn\xe9es personnelles Nous partageons vos donn\xe9es personnelles avec votre accord ou pour effectuer une transaction ou fournir un produit que vous avez demand\xe9 ou autoris\xe9. Nous partageons \xe9galement des donn\xe9es avec les filiales contr\xf4l\xe9es par Microsoft ; avec les prestataires travaillant en notre nom ; lorsque cela est exig\xe9 par la loi ou pour r\xe9pondre \xe0 une proc\xe9dure judiciaire ; pour prot\xe9ger nos clients ; pour prot\xe9ger des vies humaines ; pour maintenir la s\xe9curit\xe9 de nos produits ; et pour prot\xe9ger les droits et la propri\xe9t\xe9 de Microsoft et de ses clients."),i.a.createElement("h4",null,"Comment acc\xe9der \xe0 et contr\xf4ler vos donn\xe9es personnelles"),i.a.createElement("p",null,"Vous pouvez \xe9galement faire des choix quant \xe0 la collecte et \xe0 l\u2019utilisation de vos donn\xe9es par Microsoft. Vous pouvez contr\xf4ler vos donn\xe9es personnelles obtenues par Microsoft et exercer vos droits en mati\xe8re de protection des donn\xe9es, en contactant Microsoft ou en utilisant les diff\xe9rents outils que nous proposons. Dans certains cas, vos possibilit\xe9s d'acc\xe9der \xe0 ou de contr\xf4ler vos donn\xe9es personnelles seront limit\xe9es, dans la mesure o\xf9 la loi applicable l'exige ou le permet. La mani\xe8re dont vous acc\xe9dez \xe0 vos donn\xe9es personnelles ou dont vous les contr\xf4lez d\xe9pend \xe9galement des produits que vous utilisez. Vous pouvez par exemple :"),i.a.createElement("ul",null,i.a.createElement("li",null,"contr\xf4ler l\u2019utilisation de vos donn\xe9es pour de la publicit\xe9 par Microsoft ax\xe9e sur vos centres d\u2019int\xe9r\xeat en consultant notre page vous permettant d\u2019exercer vos choix en mati\xe8re de d\xe9sabonnement ;"),i.a.createElement("li",null,"choisir de recevoir ou non des courriers \xe9lectroniques promotionnels, des messages SMS, des appels t\xe9l\xe9phoniques et du courrier postal de la part de Microsoft."),i.a.createElement("li",null,"Acc\xe9dez \xe0 vos donn\xe9es et effacez-en certaines via le Tableau de bord de confidentialit\xe9 Microsoft.")),i.a.createElement("p",null,"Certaines donn\xe9es personnelles trait\xe9es par Microsoft ne sont pas accessibles ou ne peuvent pas \xeatre contr\xf4l\xe9es via les outils ci-dessus. Si vous souhaitez acc\xe9der \xe0 et contr\xf4ler des donn\xe9es personnelles trait\xe9es par Microsoft qui ne sont pas disponibles via les outils ci-dessus ou directement par les produits Microsoft que vous utilisez, vous pouvez toujours contacter Microsoft \xe0 l'adresse indiqu\xe9e dans la section Comment nous contacter ou en utilisant notre formulaire Web."),i.a.createElement("p",null,"Nous fournissons des mesures d'agr\xe9gat \xe0 propos des demandes des utilisateurs \xe0 exercer leurs droits de protection de leurs donn\xe9es via le Rapport de confidentialit\xe9 Microsoft."),i.a.createElement("h4",null,"Cookies et technologies similaires"),i.a.createElement("p",null,"Les cookies sont de petits fichiers texte plac\xe9s sur votre appareil permettant de stocker des donn\xe9es qui peuvent \xeatre rappel\xe9es par les serveurs web dans le domaine qui les ont plac\xe9s. Nous utilisons des cookies et des technologies similaires pour stocker et respecter vos pr\xe9f\xe9rences et vos param\xe8tres. Cela permet de vous connecter, de fournir de la publicit\xe9 ax\xe9e sur vos centres d\u2019int\xe9r\xeat, de lutter contre la fraude, d'analyser les performances de nos produits et de remplir d\u2019autres objectifs l\xe9gitimes. Les applications Microsoft utilisent d\u2019autres identifiants \xe0 des fins similaires, tels que l\u2019identifiant de publicit\xe9 dans Windows d\xe9crit dans la section Identifiant de publicit\xe9 de la pr\xe9sente d\xe9claration de confidentialit\xe9."),i.a.createElement("p",null,"Nous utilisons \xe9galement des \xab balises web \xbb pour nous aider \xe0 placer les cookies et \xe0 rassembler des donn\xe9es d\u2019utilisation et de performance. Nos sites web peuvent inclure des balises web, des cookies et des technologies similaires de prestataires de services tiers."),i.a.createElement("p",null,"Vous disposez d\u2019une vari\xe9t\xe9 d\u2019outils pour contr\xf4ler les cookies, les balises web et les technologies similaires. Par exemple, vous pouvez utiliser les contr\xf4les de votre navigateur Internet pour limiter l'utilisation des cookies par les sites Web que vous visitez et retirer votre consentement en supprimant ou en bloquant les cookies."),i.a.createElement("h4",null,"Produits fournis par votre organisation \u2013 avis destin\xe9 aux utilisateurs finaux"),i.a.createElement("p",null,"Si vous utilisez un produit Microsoft avec un compte fourni par une organisation \xe0 laquelle vous \xeates affili\xe9, par exemple, votre compte professionnel ou scolaire, cette organisation peut :"),i.a.createElement("ul",null,i.a.createElement("li",null,"Contr\xf4ler et administrer votre produit et votre compte de produit Microsoft, y compris contr\xf4ler les param\xe8tres relatifs \xe0 la confidentialit\xe9 du produit ou du compte de produit."),i.a.createElement("li",null,"Acc\xe9der \xe0 vos donn\xe9es et les traiter, notamment les donn\xe9es d\u2019interaction, les donn\xe9es de diagnostic et les contenus de vos communications et fichiers associ\xe9s \xe0 votre produit et \xe0 vos comptes de produits Microsoft.")),i.a.createElement("p",null,"Si vous perdez l\u2019acc\xe8s \xe0 votre compte professionnel ou scolaire (en cas de changement d\u2019activit\xe9, par exemple), vous risquez de perdre l\u2019acc\xe8s aux produits et au contenu associ\xe9 \xe0 ces produits, y compris \xe0 ceux que vous avez acquis pour votre propre compte, si vous avez utilis\xe9 votre compte professionnel ou scolaire pour vous connecter \xe0 ces produits."),i.a.createElement("p",null,"De nombreux produits Microsoft sont con\xe7us pour \xeatre utilis\xe9s par des organisations, telles que des entreprises ou des \xe9tablissements scolaires. Consultez la section Produits pour entreprises et d\xe9veloppeurs de la pr\xe9sente d\xe9claration de confidentialit\xe9. Si votre organisation vous permet d'acc\xe9der aux produits Microsoft, votre utilisation des produits Microsoft est soumise aux politiques de votre organisation, le cas \xe9ch\xe9ant. Vous devez envoyer vos demandes concernant la confidentialit\xe9, notamment les demandes pour exercer vos droits en mati\xe8re de protection des donn\xe9es, \xe0 l\u2019administrateur de votre organisation. Lorsque vous utilisez des fonctions sociales dans les produits Microsoft, d\u2019autres utilisateurs de votre r\xe9seau peuvent voir une partie de votre activit\xe9. Pour en savoir plus sur les fonctions sociales et autres fonctionnalit\xe9s, consultez la documentation ou l'aide relatives au produit Microsoft concern\xe9. Microsoft n\u2019est pas responsable des politiques ou des pratiques de confidentialit\xe9 ou de s\xe9curit\xe9 de nos clients, qui peuvent diff\xe9rer de celles stipul\xe9es dans cette d\xe9claration de confidentialit\xe9."),i.a.createElement("p",null,"Lorsque vous utilisez un produit Microsoft fourni par votre organisation, le traitement de vos donn\xe9es personnelles par Microsoft, dans le cadre de ce produit, est r\xe9gi par un contrat \xe9tabli entre Microsoft et votre organisation. Microsoft traite vos donn\xe9es personnelles pour mettre le produit \xe0 votre disposition et \xe0 celle de votre organisation et pour les op\xe9rations commerciales l\xe9gitimes de Microsoft en rapport avec la mise \xe0 disposition du produit comme expliqu\xe9 \xe0 la section Produits pour entreprises et d\xe9veloppeurs. Comme indiqu\xe9 ci-dessus, si vous avez des questions sur le traitement de vos donn\xe9es personnelles par Microsoft dans le cadre de l'offre de produits \xe0 votre organisation, contactez votre organisation. Si vous avez des questions sur les op\xe9rations commerciales l\xe9gitimes de Microsoft en rapport avec l'offre de produits \xe0 votre organisation, veuillez contacter Microsoft comme expliqu\xe9 \xe0 la section Comment nous contacter. Pour en savoir plus sur nos op\xe9rations commerciales l\xe9gitimes, consultez la section Produits pour entreprises et d\xe9veloppeurs."),i.a.createElement("p",null,"Pour les produits Microsoft fournis par votre \xe9cole d'enseignement primaire et secondaire, y compris Microsoft 365 \xc9ducation, Microsoft :"),i.a.createElement("ul",null,i.a.createElement("li",null,"ne collectera pas ou n'utilisera pas des donn\xe9es personnelles des \xe9tudiants au-del\xe0 de ce qui est n\xe9cessaire \xe0 des fins p\xe9dagogiques ou scolaires autoris\xe9es ;"),i.a.createElement("li",null,"ne vendra pas ou ne louera pas des donn\xe9es personnelles des \xe9tudiants ;"),i.a.createElement("li",null,"n\u2019utilisera pas ou ne partagera pas les donn\xe9es personnelles des \xe9tudiants \xe0 des fins publicitaires ou commerciales, telles que le ciblage comportemental des publications aupr\xe8s des \xe9tudiants ;"),i.a.createElement("li",null,"ne cr\xe9era pas de profil personnel d\u2019un \xe9tudiant, autre que pour la prise en charge de l\u2019\xe9ducation ou de l\u2019\xe9cole autoris\xe9e ou comme autoris\xe9 par le parent, le tuteur ou l\u2019\xe9tudiant ayant l\u2019\xe2ge appropri\xe9 ; et"),i.a.createElement("li",null,"exigera que nos fournisseurs avec lesquels des donn\xe9es personnelles des \xe9tudiants sont partag\xe9es afin de fournir le service p\xe9dagogique, le cas \xe9ch\xe9ant, soient tenus d\u2019impl\xe9menter ces m\xeames engagements pour les donn\xe9es personnelles des \xe9tudiants.")),i.a.createElement("h4",null,"compte Microsoft"),i.a.createElement("p",null,"Gr\xe2ce \xe0 un compte Microsoft, vous pouvez vous connecter aux produits Microsoft, ainsi qu\u2019aux services de partenaires choisis de Microsoft. Les donn\xe9es personnelles associ\xe9es \xe0 votre compte Microsoft comprennent des identifiants, un nom et des coordonn\xe9es, les donn\xe9es de paiement, les donn\xe9es sur l'appareil et l'utilisation, vos contacts, des informations sur vos activit\xe9s, ainsi que vos centres d'int\xe9r\xeat et vos favoris. La connexion \xe0 votre compte Microsoft permet de b\xe9n\xe9ficier d\u2019une personnalisation et d\u2019exp\xe9riences coh\xe9rentes dans tous les produits et sur tous les appareils, d\u2019utiliser le stockage des donn\xe9es dans le cloud, d\u2019effectuer des paiements \xe0 l\u2019aide des instruments de paiement enregistr\xe9s sur votre compte Microsoft et d\u2019activer d\u2019autres fonctionnalit\xe9s."),i.a.createElement("p",null,"Il existe trois types de compte Microsoft :"),i.a.createElement("ul",null,i.a.createElement("li",null,"Lorsque vous cr\xe9ez votre propre compte Microsoft li\xe9 \xe0 votre adresse e-mail personnelle, nous appelons ce compte un compte Microsoft personnel."),i.a.createElement("li",null,"Lorsque vous ou votre organisation (par exemple, un employeur ou votre \xe9tablissement scolaire) cr\xe9ez votre compte Microsoft li\xe9 \xe0 l'adresse e-mail qui vous a \xe9t\xe9 fournie par cette organisation, nous appelons ce compte un compte professionnel ou scolaire."),i.a.createElement("li",null,"Lorsque vous ou votre fournisseur de services (par exemple, un fournisseur de services internet ou c\xe2bl\xe9s) cr\xe9ez votre compte Microsoft li\xe9 \xe0 votre adresse e-mail avec le domaine de votre fournisseur de services, nous appelons ce compte un compte tiers.")),i.a.createElement("p",null,"Si vous vous connectez \xe0 un service propos\xe9 par un tiers avec votre compte Microsoft, vous partagerez avec ce tiers les donn\xe9es du compte requises pour ce service."),i.a.createElement("h4",null,"Autres informations importantes sur la confidentialit\xe9"),i.a.createElement("p",null,"Vous trouverez ci-dessous des informations de confidentialit\xe9 suppl\xe9mentaires, telles que la fa\xe7on dont nous s\xe9curisons vos donn\xe9es, o\xf9 vos donn\xe9es sont trait\xe9es et la dur\xe9e pendant laquelle nous conservons vos donn\xe9es. Vous trouverez de plus amples informations sur Microsoft et sur notre engagement \xe0 prot\xe9ger votre confidentialit\xe9 sur Confidentialit\xe9 Microsoft."),i.a.createElement("h3",null,"D\xe9tails propres au produit:"),i.a.createElement("h4",null,"Produits pour entreprises et d\xe9veloppeurs"),i.a.createElement("p",null,"Les produits pour entreprises et d\xe9veloppeurs sont des produits et des logiciels Microsoft principalement con\xe7us et propos\xe9s pour \xeatre utilis\xe9s par les entreprises et les d\xe9veloppeurs. Il s'agit notamment des produits suivants :"),i.a.createElement("ul",null,i.a.createElement("li",null,"Services cloud, d\xe9nomm\xe9s Services en ligne dans les Conditions d\u2019utilisation de Microsoft Online Services (OST), tels qu\u2019Office 365, Microsoft Azure, Microsoft Dynamics 365 et Microsoft Intune, pour lesquels une organisation (notre \xab client \xbb) souscrit un contrat avec Microsoft (\xab Services d'entreprise en ligne \xbb)."),i.a.createElement("li",null,"Autres services cloud destin\xe9s aux entreprises et aux d\xe9veloppeurs, tels que les services PlayFab et des outils tels que le Kit de comp\xe9tences Cortana."),i.a.createElement("li",null,"Produits pour serveurs, d\xe9veloppeurs et plateforme de cloud hybride, tels que Windows Server, SQL Server, Visual Studio et System Center, Azure Stack et des logiciels open source tels que les solutions Bot Framework (\xab logiciels pour entreprises et d\xe9veloppeurs \xbb)."),i.a.createElement("li",null,"Appareils et mat\xe9riel utilis\xe9s pour l\u2019infrastructure de stockage, tels que StorSimple (\xab appareils pour entreprise \xbb)."),i.a.createElement("li",null,"Les services professionnels mentionn\xe9s dans les Conditions des services en ligne qui sont disponibles avec les Services d'entreprise en ligne, tels que les services d'int\xe9gration, les services de migration de donn\xe9es, les services de science des donn\xe9es, ou les services visant \xe0 compl\xe9ter les fonctionnalit\xe9s existantes des Services d'entreprise en ligne.")),i.a.createElement("p",null,i.a.createElement("strong",null,"En cas de conflit entre cette d\xe9claration de confidentialit\xe9 de Microsoft et les termes de tout contrat entre un client et Microsoft concernant des produits pour entreprises et d\xe9veloppeurs, les termes de ce contrat pr\xe9vaudront.")),i.a.createElement("p",null,i.a.createElement("strong",null,"Vous pouvez \xe9galement en savoir plus sur les fonctionnalit\xe9s et les param\xe8tres de nos produits pour entreprises et d\xe9veloppeurs, notamment sur les choix qui ont des cons\xe9quences sur la protection de vos donn\xe9es personnelles ou celles de vos utilisateurs finaux, dans la documentation des produits.")),i.a.createElement("p",null,"Si l'un des termes ci-dessous n'est pas d\xe9fini dans cette d\xe9claration de confidentialit\xe9 ou dans le document OST, les d\xe9finitions figurent ci-dessous."),i.a.createElement("p",null,"G\xe9n\xe9ralit\xe9s. Lorsqu'un client essaie, ach\xe8te, utilise des produits pour entreprises et pour d\xe9veloppeurs ou s'y abonne ou lorsqu'il b\xe9n\xe9ficie d'une assistance ou de services professionnels pour ces produits, Microsoft re\xe7oit vos donn\xe9es et collecte et g\xe9n\xe8re des donn\xe9es pour assurer le service (y compris, am\xe9liorer, s\xe9curiser et mettre \xe0 jour le service), mener nos op\xe9rations commerciales l\xe9gitimes et communiquer avec le client. Par exemple :"),i.a.createElement("ul",null,i.a.createElement("li",null,"Lorsqu\u2019un client contacte un commercial Microsoft, nous recueillons son nom, ses coordonn\xe9es et des informations sur son organisation pour assurer le bon d\xe9roulement de la communication."),i.a.createElement("li",null,"Lorsqu\u2019un client interagit avec un professionnel du support Microsoft, nous recueillons des donn\xe9es sur l'appareil ou l'utilisation ou des rapports d\u2019erreur pour diagnostiquer et r\xe9soudre des probl\xe8mes."),i.a.createElement("li",null,"Lorsqu\u2019un client ach\xe8te des produits, nous recueillons des donn\xe9es de contact et de paiement pour traiter le paiement."),i.a.createElement("li",null,"Lorsque Microsoft envoie des communications \xe0 un client, nous utilisons des donn\xe9es pour personnaliser le contenu des communications."),i.a.createElement("li",null,"Lorsqu'un client contacte Microsoft dans le cadre de services professionnels, nous recueillons le nom et les coordonn\xe9es du point de contact d\xe9sign\xe9 du client et utilisons les informations fournies par le client pour accomplir les services demand\xe9s par celui-ci.")),i.a.createElement("p",null,"Les produits pour entreprises et d\xe9veloppeurs vous permettent d\u2019acheter d\u2019autres produits et services en ligne de Microsoft ou de tiers ayant des pratiques de confidentialit\xe9 diff\xe9rentes, de vous y abonner ou de les utiliser. Ces autres produits et services en ligne sont r\xe9gis par leurs d\xe9clarations et strat\xe9gies de confidentialit\xe9 respectives."),i.a.createElement("h4",null,"Produits de productivit\xe9 et de communications"),i.a.createElement("p",null,"Les produits de productivit\xe9 et de communications sont des applications, des logiciels et des services que vous pouvez utiliser pour cr\xe9er, stocker et partager des documents, mais aussi pour communiquer avec d\u2019autres personnes."),i.a.createElement("h4",null,"Recherche, Microsoft Edge et intelligence artificielle"),i.a.createElement("p",null,"Les produits de recherche et d\u2019intelligence artificielle mettent des informations \xe0 votre disposition et captent, traitent et agissent intelligemment sur la base de ces informations, tout en apprenant et en s\u2019adaptant au fil du temps."),i.a.createElement("h4",null,"Windows"),i.a.createElement("p",null,"Windows est un environnement informatique personnalis\xe9 qui vous permet de parcourir et d\u2019acc\xe9der sans probl\xe8me \xe0 des services, des pr\xe9f\xe9rences et du contenu sur vos appareils informatiques, du t\xe9l\xe9phone au Surface Hub en passant par la tablette. Les composants cl\xe9s de Windows ne r\xe9sident pas simplement de fa\xe7on statique sur votre appareil. Ils sont bas\xe9s sur le cloud. Les \xe9l\xe9ments de Windows locaux et dans le cloud sont mis \xe0 jour r\xe9guli\xe8rement, vous fournissant ainsi les toutes derni\xe8res am\xe9liorations et fonctionnalit\xe9s. Afin de vous fournir cette exp\xe9rience informatique, nous recueillons des donn\xe9es sur vous, votre appareil, et votre mani\xe8re d\u2019utiliser Windows. Comme Windows vous est personnel, nous vous offrons des choix quant aux donn\xe9es personnelles que nous recueillons et notre mani\xe8re de les utiliser. Remarque : si votre appareil Windows est g\xe9r\xe9 par votre organisation (comme votre employeur ou votre \xe9tablissement scolaire), celle-ci peut utiliser des outils de gestion centralis\xe9e fournis par Microsoft ou d\u2019autres soci\xe9t\xe9s, afin de consulter et de traiter vos donn\xe9es, et de contr\xf4ler les r\xe9glages de l\u2019appareil (y compris les param\xe8tres de confidentialit\xe9), les strat\xe9gies de l\u2019appareil, les mises \xe0 jour de logiciels, la collecte des donn\xe9es effectu\xe9e par nous ou l\u2019organisation, ou d\u2019autres aspects de votre appareil. En outre, votre organisation peut utiliser les outils de gestion fournis par Microsoft ou d\u2019autres soci\xe9t\xe9s pour consulter et traiter vos donn\xe9es \xe0 partir de cet appareil, y compris vos donn\xe9es d\u2019interaction, vos donn\xe9es de diagnostic et les contenus de vos communications et fichiers. Pour plus d\u2019informations sur la collecte et la confidentialit\xe9 des donn\xe9es dans Windows, consultez Windows 10 et vos services en ligne. Les versions ant\xe9rieures de Windows (notamment Windows Vista, Windows 7, Windows 8 et Windows 8.1) sont soumises \xe0 leurs propres d\xe9clarations de confidentialit\xe9."),i.a.createElement("h4",null,"Services de divertissement et services associ\xe9s"),i.a.createElement("p",null,"Les services de divertissement et services associ\xe9s offrent de riches exp\xe9riences et vous permettent d\u2019acc\xe9der \xe0 une grande diversit\xe9 de contenu, d'applications et de jeux."))),i.a.createElement("div",{className:"CG__container__form"},i.a.createElement(Q.a,{className:"CGU__container__form mb-0"},i.a.createElement(Q.a.Group,{controlId:"formBasicCheckbox"},i.a.createElement(Q.a.Check,{type:"checkbox",label:t("landing.CGU.acknowledge"),onChange:function(e){return c(!o)}})),!r&&i.a.createElement(L.a,{variant:"primary",className:"py-3 py-md-2",onClick:a,disabled:!1===o},t("landing.CGU.buttonText"))))),r&&i.a.createElement("div",{className:"CGU__container__mobile--actions"},i.a.createElement(L.a,{variant:"primary",className:"py-3 py-md-2 w-100",onClick:a,disabled:!1===o},t("landing.CGU.buttonText"))))}))),V=(a(177),function(e){var t=e.title,a=e.image,n=e.description,r=e.onClickActionText,s=e.className,l=e.onClickAvatarAction,o=e.id,c=e.selected;return i.a.createElement("div",{className:"AvatarCard text-center px-4 ".concat(s," ").concat(c?"AvatarCard--selected":"")},i.a.createElement("div",{className:"AvatarCard__title"},t),i.a.createElement("div",{className:"AvatarCard__container mx-auto"},i.a.createElement("div",{className:"AvatarCard__container__image"},i.a.createElement("img",{src:a,alt:t}))),i.a.createElement("div",{className:"AvatarCard__description mt-1"},n),i.a.createElement("div",{className:"AvatarCard__actions mt-2"},i.a.createElement(L.a,{variant:"light",onClick:l.bind(void 0,o)},r)))}),F=function(e){var t=e.title,a=e.image,n=e.description,r=e.className,s=e.onClickAvatarAction,l=e.id,o=e.selected;return i.a.createElement("div",{className:"AvatarCard ".concat(r," ").concat(o?"AvatarCard--selected":""),onClick:s.bind(void 0,l)},i.a.createElement("div",{className:"AvatarCard__container"},i.a.createElement("div",{className:"AvatarCard__container__image"},i.a.createElement("img",{src:a,alt:t}))),i.a.createElement("div",{className:"AvatarCard__body"},i.a.createElement("div",{className:"AvatarCard__body__title"},t),i.a.createElement("div",{className:"AvatarCard__body__description"},n)))},X=(a(178),Object(A.a)()((function(e){var t=e.t,a=e.onSelectAvatar,r=e.avatars,s=e.onClickNext,l=window.innerWidth<768,o=Object(n.useState)(!1),c=Object(B.a)(o,2),u=c[0],m=c[1],d=function(e,t){t.preventDefault(),a(e),m(!0)},p=r.map((function(e,a){return l?i.a.createElement(F,{className:"Avatars__body__list__item m-1 d-flex justify-content-center",key:a,id:e.id_avatar,title:e.nom,description:e.description,image:"/images/avatar/".concat(e.image),onClickActionText:t("landing.Avatars.body.selectAvatar"),selected:e.selected,onClickAvatarAction:d}):i.a.createElement(V,{className:"Avatars__body__list__item m-1 d-flex justify-content-center",key:a,id:e.id_avatar,title:e.nom,description:e.description,image:"/images/avatar/".concat(e.image),onClickActionText:t("landing.Avatars.body.selectAvatar"),selected:e.selected,onClickAvatarAction:d})}));return i.a.createElement("div",{className:"Avatars d-flex h-100 flex-column justify-content-center px-5 py-4"},l&&i.a.createElement("div",{className:"Avatars__logo"},i.a.createElement("img",{src:"/images/logo/".concat(v.language,"/logo_gauche_blanc.png"),alt:"logo",className:"teams_logo"})),i.a.createElement("div",{className:"Avatars__container p-4 m-2 m-md-0"},i.a.createElement("h1",{className:"Avatars__title color-white1"},t("landing.Avatars.title")),i.a.createElement("h4",{className:"Avatars__subtitle color-white1"},t(l?"landing.Avatars.subtitle-mobile":"landing.Avatars.subtitle")),i.a.createElement("div",{className:"Avatars__body color-white1 mt-4"},!l&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"Avatars__body__title text-center color-white1 my-2"},t("landing.Avatars.body.title")),i.a.createElement("div",{className:"Avatars__body__subtitle text-center color-white1 mx-auto mb-2 w-75"},t("landing.Avatars.body.description"))),i.a.createElement("div",{className:"Avatars__body__list d-flex justify-content-center"},p),i.a.createElement("div",{className:"Avatars__actions mt-2"},i.a.createElement(L.a,{variant:"primary",onClick:s,className:"d-none d-md-block",disabled:!1===u},t("landing.Avatars.buttonText")),i.a.createElement(L.a,{variant:"primary",onClick:s,className:"d-block d-md-none",disabled:!1===u},t("landing.Avatars.buttonText"))))))}))),K=a(21),J=a(18),H=function(){function e(){Object(j.a)(this,e),this.API_TOKEN="dd51c6450623cd49125f26620b0c14c0",this.BASE_URL="https://<your url>/api"}return Object(M.a)(e,[{key:"fetchGET",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="";a&&Object.keys(a).forEach((function(e){a[e]&&(n+="&".concat(e.toString(),"=").concat(a[e]))}));var i=this.BASE_URL+e+"?api_key="+this.API_TOKEN+(a?n:"");return fetch(i,{credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return t.handleAPIError(e)}))}},{key:"sendNotification",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="";a&&Object.keys(a).forEach((function(e){a[e]&&(n+="&".concat(e.toString(),"=").concat(a[e]))}));var i=this.BASE_URL+e+"?api_key="+this.API_TOKEN+(a?n:"");return fetch(i,{credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return t.handleAPIError(e)}))}},{key:"fetchPOST",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.fetchWithBody(e,t,a,"post")}},{key:"fetchDELETE",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.fetchWithBody(e,t,a,"delete")}},{key:"fetchWithBody",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r="";n&&Object.keys(n).forEach((function(e){n[e]&&(r+="&".concat(e.toString(),"=").concat(n[e]))}));var s=this.BASE_URL+e+"?api_key="+this.API_TOKEN+(n?r:"");return fetch(s,{method:i,credentials:"include",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return a.handleAPIError(e)}))}},{key:"handleAPIError",value:function(e){console.error(e)}},{key:"fetchUploadData",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="";a&&Object.keys(a).forEach((function(e){a[e]&&(n+="&".concat(e.toString(),"=").concat(a[e]))}));var i=this.BASE_URL+e+"?api_key="+this.API_TOKEN+(a?n:"");return fetch(i,{method:"POST",credentials:"include",body:t})}}]),e}(),Y=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/avatars",e}return Object(M.a)(a,[{key:"getAvatars",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource,{language:v.language})}}]),a}(H)),Z=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={curStep:1,avatars:[],selectedAvatarId:null,loading:!0},e.changeStep=function(){var t=e.state.curStep;e.setState((function(e,a){return{curStep:++t}}),(function(){e.state.curStep,e.state.curStep>2&&e.props.isMobile}))},e.selectAvatar=function(t){var a=e.state.avatars;a.forEach((function(e){e.selected=e.id_avatar===t})),e.setState({selectedAvatarId:t,avatars:a})},e.onCompleteProfile=function(){e.props.onCompleteLanding({avatarSelected:e.state.selectedAvatarId})},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this;Y.getAvatars().then((function(t){t.results.forEach((function(e){e.selected=!1})),e.setState({loading:!1,avatars:t.results})}))}},{key:"render",value:function(){var e=this.props.isMobile;return i.a.createElement("div",{className:"Landing"},i.a.createElement("div",{className:"Landing__withbackground ".concat(e?"Landing__background-mobile-0":"Landing__background-0","\n          ").concat(this.state.curStep>1?"slide":""),id:"landing_step1"},1===this.state.curStep&&i.a.createElement(U,{onClickNext:this.changeStep,isMobile:e})),i.a.createElement("div",{className:"Landing__withbackground ".concat(e?"Landing__background-mobile-1":"Landing__background-1","\n          ").concat(this.state.curStep>1?"slide":""),id:"landing_step2"},2===this.state.curStep&&i.a.createElement(W,{onClickNext:this.changeStep,isMobile:e}),3===this.state.curStep&&i.a.createElement(G,{onClickNext:this.changeStep}),4===this.state.curStep&&i.a.createElement(X,{onClickNext:this.onCompleteProfile,avatars:this.state.avatars,onSelectAvatar:this.selectAvatar})))}}]),a}(n.Component);function $(e){return i.a.createElement(n.Suspense,{fallback:i.a.createElement(P,null)},i.a.createElement(Z,{onCompleteLanding:e.onCompleteLanding,isMobile:e.isMobile}))}a(179);var ee=a(343),te=function(e){var t=e.hasGradient,a=e.children;return i.a.createElement(ee.a,{fluid:!0,className:"".concat(t?"gradient ":"","main-container d-flex p-0")},a)},ae=a(17),ne=a.n(ae),ie=a(23),re=a(358),se=(a(181),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.withoutName;return i.a.createElement("div",{className:"d-none d-md-block text-center"},i.a.createElement("div",{className:"avatar-niveau".concat(a?" without-name":"")},(null===t||void 0===t?void 0:t.image_avatar)?i.a.createElement("img",{src:""+t.image_avatar,alt:"Avatar"}):i.a.createElement("span",{className:"d-none"}),i.a.createElement("p",{className:"niveau mb-0 color-primary-light"},i.a.createElement("strong",null,null===t||void 0===t?void 0:t.niveau))),i.a.createElement("h4",{className:"color-primary".concat(a?" d-none":"")},i.a.createElement("strong",null,null===t||void 0===t?void 0:t.nom)),i.a.createElement("p",{className:"p-sep color-primary".concat(a?" d-none":"")}))}}]),a}(n.Component)),le=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/menu",e}return Object(M.a)(a,[{key:"getMenu",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource,{language:e})}}]),a}(H)),oe=(a(182),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._setPositionIndicator=function(e){var t=document.getElementById("indicator");t.style.display="block",t.style.transform="translateY(".concat(e,"px)")},n._setActivTabMenu=Object(ie.a)(ne.a.mark((function e(){var t,a,i,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=window.location.hash,a=document.getElementsByClassName("list-group-item-action"),i=function(e){var i=a[e];n.state.listMenu.find((function(t){return a[e].innerHTML.includes(t.nom)})).router_link!==t?i.classList.remove("active"):(i.classList.add("active"),n._setPositionIndicator(i.offsetTop))},r=0;r<a.length;r++)i(r);case 4:case"end":return e.stop()}}),e)}))),n.state={listMenu:[],organisationLogo:null},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a,n,i=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.getMenu(v.language);case 3:n=e.sent,this.setState({listMenu:n.results,organisationLogo:(null===(t=this.props.currentOrganisation)||void 0===t?void 0:t.logo)?"https://<your url>/static-server/"+(null===(a=this.props.currentOrganisation)||void 0===a?void 0:a.logo):null},(function(){setTimeout((function(){var e=document.getElementsByClassName("active");if(e&&e.length>0){var t=e[0].offsetTop;i._setPositionIndicator(t)}else document.getElementById("indicator").style.display="none"}),500)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Menu error",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;this._setActivTabMenu();var t=this.props,a=t.currentRouterLink,n=t.currentUser,r=this.state.organisationLogo;if(a.match(new RegExp("/","gi")).length>1){var s=a.split("/");s.length>1&&(a="/"+s[1])}return i.a.createElement("div",{className:"d-none d-md-flex menu py-4 flex-column position-relative"},i.a.createElement(se,{user:n}),i.a.createElement("div",{className:"d-flex flex-column justify-content-between h-100"},i.a.createElement(re.a,{defaultActiveKey:"#"+a},i.a.createElement("div",{id:"indicator",className:"indicator position-absolute"}),null===(e=this.state.listMenu)||void 0===e?void 0:e.map((function(e){var t={backgroundImage:"url('/images/menu/"+e.picto+"')"};return i.a.createElement(re.a.Item,{key:e.id_page,action:!0,href:e.router_link,className:"py-0 d-flex align-items-center menu".concat(e.id_page)},i.a.createElement("div",{style:t,className:"ico-menu"}),i.a.createElement("div",{className:"title-menu"},e.nom))}))),i.a.createElement("div",{className:"menu__logo"},r&&i.a.createElement("img",{src:r,alt:"logo"}))))}}]),a}(n.Component)),ce=Object(l.b)((function(e){return{currentUser:e.user.currentUser,currentOrganisation:e.user.currentOrganisation}}))(oe),ue=(a(183),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props.hasGradient?"logo_gauche_violet.png":"logo_gauche_blanc.png";return i.a.createElement("div",{className:"d-none d-md-block"},i.a.createElement("img",{src:"/images/logo/"+v.language+"/"+e,alt:"Logo",width:"300"}))}}]),a}(n.Component)),me=a(344),de=(a(184),function(e){var t=e.title;return i.a.createElement("div",{className:"Title ".concat(e.className)},t)}),pe=(a(185),Object(A.a)()((function(e){var t=e.count,a=e.className,n=e.t,r=e.tReady;return i.a.createElement("div",{className:"ExplorerWidget ".concat(a)},i.a.createElement("div",{className:"ExplorerWidget__tree"},i.a.createElement("img",{alt:"tree",src:"/images/icone/tree.png"})),i.a.createElement("div",{className:"ExplorerWidget__container"},i.a.createElement("div",{className:"ExplorerWidget__container__count col-12"},t),i.a.createElement("div",{className:"ExplorerWidget__container__message col-12"},r&&n("admin.explorers_desc"))))}))),ve=a(38),_e=a.n(ve),he=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={days:void 0,hours:void 0,minutes:void 0,seconds:void 0},e.interval=null,e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){var t=e.props.timeTillDate,a=_e.a.utc(t),n=_e.a.utc(),i=a.diff(n),r=_e.a.duration(i);if(r.as("milliseconds")<0)return e.setState({days:"0",hours:null,minutes:null,seconds:null}),void clearInterval(e.interval);var s=r.get("days").toString(),l=(r.get("hours")<10?"0":"")+r.get("hours").toString(),o=(r.get("hours")<10?"0":"")+r.get("hours").toString(),c=(r.get("seconds")<10?"0":"")+r.get("seconds").toString();e.setState({days:s,hours:l,minutes:o,seconds:c})}),1e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.days,a=e.hours,n=e.minutes,r=e.seconds,s=this.props,l=s.className,o=s.tReady,c=s.t;return i.a.createElement("div",{className:l},t>0&&a?i.a.createElement(i.a.Fragment,null,t,"fr"===v.language?"j":"d",", ",a,":",n,":",r):i.a.createElement(i.a.Fragment,null,o&&c("counter.info")))}}]),a}(n.Component),fe=Object(A.a)()(he),ge=(a(187),Object(A.a)()((function(e){var t=e.campaign,a=e.className,n=e.translationDescKey,r=e.t,s=e.tReady;return i.a.createElement("div",{className:"LaunchFollowWidget ".concat(a)},i.a.createElement("div",{className:"LaunchFollowWidget__background"}),i.a.createElement("div",{className:"LaunchFollowWidget__container my-1"},i.a.createElement("div",{className:"LaunchFollowWidget__container__title"},t.has_campaign?i.a.createElement(i.a.Fragment,null,s&&r("admin.campaign_pending0")," ","\xab ",t.name," \xbb"," ",s&&r("admin.campaign_pending")):i.a.createElement(i.a.Fragment,null,s&&r("admin.campaign_pending_nomission"))),i.a.createElement("div",{className:"LaunchFollowWidget__container__description"},s&&r(n)),i.a.createElement("div",{className:"LaunchFollowWidget__container__timeleft"},t.has_campaign&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"LaunchFollowWidget__container__timeleft__label color-white1"},s&&r("admin.campaign_time_left")," ")," ",i.a.createElement(fe,{timeTillDate:t.date_end,timeFormat:"MM-DD-YYYY h:mm:ss",className:"LaunchFollowWidget__container__timeleft__timer color-white1"})))))}))),Ee=(a(188),Object(A.a)()((function(e){e.notificationsCount;var t=e.redirectLink,a=e.className,n=e.t;return i.a.createElement(c.b,{to:t,className:"".concat(a," no-hover")},i.a.createElement("div",{className:"Planning"},i.a.createElement("div",{className:"Planning__container d-flex flex-row py-3 col-12 no-gutters"},i.a.createElement("div",{className:"Planning__container__icon col-3 d-flex justify-content-center align-items-center flex-column"},i.a.createElement("img",{src:"/images/menu/planning.png",alt:"planning"})),i.a.createElement("div",{className:"Planning__container__content col-9 d-flex flex-column pl-0 py-3 justify-content-center"},i.a.createElement("div",{className:"Planning__container__content__title"},n("menu.planning")),i.a.createElement("div",{className:"Planning__container__content__description"},n("admin.planning_desc"))))))}))),be=(a(190),Object(A.a)()((function(e){var t=e.className,a=e.expRanks,n=e.ptsRanks,r=e.t,s=e.tReady;return i.a.createElement("div",{className:"Rankings ".concat(t)},i.a.createElement("div",{className:"Rankings__header"},i.a.createElement("div",{className:"Rankings__header__icon"},i.a.createElement("img",{alt:"cup",src:"/images/icone/cup.png"})),i.a.createElement("div",{className:"Rankings__header__info"},i.a.createElement("div",{className:"Rankings__header__info__title"},s&&r("admin.classement_title")),i.a.createElement("div",{className:"Rankings__header__info__subtitle"},s&&r("admin.classement_desc")))),i.a.createElement("div",{className:"Rankings__body"},i.a.createElement("span",{className:"Rankings__body__title"},s&&r("admin.classement_general")),i.a.createElement("div",{className:"Rankings__body__exp col-12 p-0"},n.map((function(e,t){return i.a.createElement("div",{key:t,className:"Rankings__body__exp__item col-4 p-0"},i.a.createElement("div",{className:"Rankings__body__exp__item__avatar"},i.a.createElement("img",{src:e.image_avatar,alt:"avatar",className:"Rankings__body__exp__item__avatar__img"})),i.a.createElement("div",{className:"Rankings__body__exp__item__user"},t+1,". ",e.nom),i.a.createElement("div",{className:"Rankings__body__exp__item__score"},e.nb_point," ",s&&r("admin.classement_points")))}))),i.a.createElement("div",{className:"Rankings__body__separator"}),i.a.createElement("span",{className:"Rankings__body__title"}," ",s&&r("admin.classement_xp")),i.a.createElement("div",{className:"Rankings__body__exp"},a.map((function(e,t){return i.a.createElement("div",{key:t,className:"Rankings__body__exp__item"},i.a.createElement("div",{className:"Rankings__body__exp__item__avatar"},i.a.createElement("img",{src:e.image_avatar,alt:"avatar",className:"Rankings__body__exp__item__avatar__img"})),i.a.createElement("div",{className:"Rankings__body__exp__item__user"},t+1,". ",e.nom),i.a.createElement("div",{className:"Rankings__body__exp__item__score"},e.nb_xp," EXP"))})))))}))),ye=function e(){Object(j.a)(this,e),this.isCallback=function(){return!1},this.login=function(){var e=localStorage.getItem("mock.user");return e||(e={name:"Mock User",objectId:"mock.user.id"},localStorage.setItem("mock.user",JSON.stringify(e))),Promise.resolve(e)},this.logout=function(){localStorage.removeItem("mock.user")},this.getUser=function(){var e=localStorage.getItem("mock.user");return e?Promise.resolve(JSON.parse(e)):Promise.reject("User information is not available")},this.getToken=function(){return localStorage.getItem("mock.user")?Promise.resolve("mock.token"):Promise.reject("User information is not available")}},Ne=a(351),ke=function(){function e(){Object(j.a)(this,e),this.applicationConfig={auth:{clientId:"<your client id>",redirectUri:"".concat(window.location.origin,"/")},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}},this.app=new Ne.a(this.applicationConfig),this.app.handleRedirectCallback((function(e,t){}))}return Object(M.a)(e,[{key:"isCallback",value:function(){return this.app.isCallback(window.location.hash)}},{key:"login",value:function(){var e=this,t=["api://".concat(this.applicationConfig.auth.clientId,"/access_as_user"),"https://graph.microsoft.com/User.Read"];return(window.navigator.standalone?this.app.loginRedirect(t):this.app.loginPopup(t)).then((function(){return e.app.account}))}},{key:"logout",value:function(){this.app.logout()}},{key:"getUser",value:function(){return Promise.resolve(this.app.account)}},{key:"getToken",value:function(){var e=this,t={scopes:["email","openid","profile","offline_access","User.Read","TeamsActivity.Send"]};return this.app.acquireTokenSilent(t).catch((function(a){return e.app.acquireTokenPopup(t).then((function(e){return e})).catch((function(e){console.error(e)}))}))}}]),e}(),xe=a(137),we=a.n(xe),Oe=function(){function e(){Object(j.a)(this,e),p.initialize();var t=new URL(window.location),a=new URLSearchParams(t.search).tenantId||"common";this.applicationConfig={tenant:a,clientId:"<your client id>",endpoints:{api:"<your client id>"},redirectUri:"".concat(window.location.origin,"/tab/silent-end"),cacheLocation:"localStorage",navigateToLoginRequestUrl:!1},this.authContext=new we.a(this.applicationConfig)}return Object(M.a)(e,[{key:"isCallback",value:function(){return this.authContext.isCallback(window.location.hash)}},{key:"login",value:function(){var e=this;return this.loginPromise||(this.loginPromise=new Promise((function(t,a){e.ensureLoginHint().then((function(){p.authentication.authenticate({url:"".concat(window.location.origin,"/tab/silent-start"),width:600,height:535,successCallback:function(a){t(e.getUser())},failureCallback:function(e){a(e)}})}))}))),this.loginPromise}},{key:"logout",value:function(){this.authContext.logOut()}},{key:"getUser",value:function(){var e=this;return new Promise((function(t,a){e.authContext.getUser((function(e,n){e?a(e):t(n)}))}))}},{key:"getToken",value:function(){var e=this;return new Promise((function(t,a){e.ensureLoginHint().then((function(){e.authContext.acquireToken(e.applicationConfig.endpoints.api,(function(e,n,i){i?a({error:i,reason:e}):t(n)}))}))}))}},{key:"ensureLoginHint",value:function(){var e=this;return new Promise((function(t,a){p.getContext((function(a){var n=encodeURIComponent("email openid profile offline_access User.Read TeamsActivity.Send");a.loginHint?e.authContext.config.extraQueryParameter="prompt=consent&scope=".concat(n,"&login_hint=").concat(encodeURIComponent(a.loginHint)):e.authContext.config.extraQueryParameter="prompt=consent&scope=".concat(n),t()}))}))}}]),e}(),Ce=function(){function e(){Object(j.a)(this,e),p.initialize(),this.authToken=null}return Object(M.a)(e,[{key:"isCallback",value:function(){return this.teamsAuthService||(this.teamsAuthService=new Oe),this.teamsAuthService.isCallback()}},{key:"login",value:function(){return this.teamsAuthService||(this.teamsAuthService=new Oe),this.teamsAuthService.login()}},{key:"parseTokenToUser",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=JSON.parse(window.atob(t));return{name:a.name,userName:a.upn,upn:a.upn,idToken:a}}},{key:"getUser",value:function(){var e=this;return new Promise((function(t,a){e.authToken?t(e.parseTokenToUser(e.authToken)):e.getToken().resolve((function(a){t(e.parseTokenToUser(a))})).reject((function(e){a(e)}))}))}},{key:"getToken",value:function(){var e=this;return new Promise((function(t,a){e.authToken?t(e.authToken):p.authentication.getAuthToken({successCallback:function(a){e.authToken=a,t(a)},failureCallback:function(e){a(e)}})}))}}]),e}(),je=new(function(){function e(){Object(j.a)(this,e);var t=new URL(window.location),a=new URLSearchParams(t.search),n=+localStorage.getItem("inTeams")||0;a.get("useTest")?this.authService=new ye:a.get("inTeamsSSO")||1===n?(this.authService=new Ce,0===n&&localStorage.setItem("inTeams",1)):this.authService=new ke}return Object(M.a)(e,[{key:"isCallback",value:function(){return this.authService.isCallback(window.location.hash)}},{key:"login",value:function(){return this.authService.login()}},{key:"logout",value:function(){this.authService.logout()}},{key:"getToken",value:function(){return this.authService.getToken()}},{key:"getUser",value:function(){return this.authService.getUser()}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return this.getToken().then((function(a){return(t=t||{}).headers=t.headers||{},t.headers.Authorization="Bearer ".concat(a),fetch(e,t)}))}))}]),e}()),Me=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/admin",e}return Object(M.a)(a,[{key:"getExplorersCount",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/explorers-count")}},{key:"getCurrentCampaignInfo",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/current-mission",{language:e})}},{key:"getCurrentCompanyInfo",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/companyInfos")}},{key:"uploadCompanyLogo",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchUploadData",this).call(this,this.resource+"/upload-logo",e)}},{key:"getAllCampaigns",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/available-missions",{language:e})}},{key:"setCurrentMission",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/set-current-mission",e)}},{key:"getAgenda",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/current-agenda",{language:e})}},{key:"setAgendaItemStatus",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/set-agenda-done",e)}},{key:"sendNotification",value:function(){var e=Object(ie.a)(ne.a.mark((function e(t){var n,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={topic:{source:"text",value:t.title},activityType:"sendNotificationToUser",previewText:{content:t.value}},e.next=3,je.getToken();case 3:return i=e.sent,e.abrupt("return",Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/send-notification",{token:i.accessToken||i,body:n}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListAsset",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/assets/get-list",{type_asset:e,language:t})}},{key:"getTemplate",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/emailing/get-template",{asset:e,language:t})}},{key:"getThemes",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/themes",{language:e})}},{key:"activateThemes",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchDELETE",this).call(this,this.resource+"/themes",e)}},{key:"deactivateThemes",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/themes",e)}}]),a}(H)),Se=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/classement",e}return Object(M.a)(a,[{key:"getClassement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource,{language:e,mode:t,monde:null===n||void 0===n?void 0:n.monde,user:null===n||void 0===n?void 0:n.user,limit:null===n||void 0===n?void 0:n.limit})}},{key:"getIndicateur",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/indicateur")}}]),a}(H)),qe=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0,explorers_count:0,campaign:{name:"Lancement",date_end:""},userRankingsPoints:[],userRankingsExp:[]},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a,n,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.getExplorersCount();case 3:return t=e.sent,e.next=6,Me.getCurrentCampaignInfo(v.language);case 6:return a=e.sent,e.next=9,Se.getClassement(v.language,"point",{limit:3});case 9:return n=e.sent,e.next=12,Se.getClassement(v.language,"xp",{limit:3});case 12:i=e.sent,this.setState({explorers_count:Number(t.results.cnt_user),campaign:{has_campaign:!!a.results,name:a.results?a.results.mission_name:null,date_end:a.results&&a.results.mission_end?a.results.mission_end:null},userRankingsExp:i,userRankingsPoints:n,loading:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.explorers_count;return e.loading?i.a.createElement("div",null,"Loading..."):i.a.createElement(i.a.Fragment,null,i.a.createElement(me.a,null,(function(e){return i.a.createElement(de,{className:"mb-3",title:e("admin.title")})})),i.a.createElement("div",{className:"col-12 row"},i.a.createElement(pe,{count:t,className:"col-4 py-2"}),i.a.createElement(ge,{campaign:this.state.campaign,className:"col-7 offset-1 py-4",translationDescKey:"admin.campaign_week_goal"})),i.a.createElement("div",{className:"col-12 row"},i.a.createElement("div",{className:"Admin__sub__block"},i.a.createElement("div",{className:"Admin__sub__block__left"},i.a.createElement(Ee,{className:"",notificationsCount:3,redirectLink:"/Planning"}),i.a.createElement(c.b,{to:"/Outillage",className:"no-underline-on-hover"},i.a.createElement("div",{className:"Admin__tools mt-4 d-flex py-3 justify-content-center"},i.a.createElement("div",{className:"Admin__tools__image d-flex justify-content-center align-items-center flex-column"},i.a.createElement("img",{src:"/images/menu/outillage.png",alt:"outillage",style:{width:"70%"}})),i.a.createElement("div",{className:"Admin__tools__content"},i.a.createElement("div",{className:"Admin__tools__content__title"},i.a.createElement(me.a,null,(function(e){return e("menu.outillage")}))),i.a.createElement("div",{className:"Admin__tools__content__description"},i.a.createElement(me.a,null,(function(e){return e("admin.outillage_desc")}))))))),i.a.createElement("div",{className:"Admin__sub__block__right"},i.a.createElement(c.b,{to:"/Classement",className:"no-underline-on-hover color-black1"},i.a.createElement(be,{expRanks:this.state.userRankingsExp,ptsRanks:this.state.userRankingsPoints,className:"col-12 col-12 pl-4 pr-4 pt-4 pb-3"}))))))}}]),a}(n.Component),Re=(a(191),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0,fileSelected:!1,currentLogo:null,newLogo:null,formData:null},e.uploadImage=function(){var t=Object(ie.a)(ne.a.mark((function t(a){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.uploadCompanyLogo(e.state.formData);case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.blockGame=function(){var e=Object(ie.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.setCurrentMission({id_semaine:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.toggleFileInput=function(e){document.getElementById("outillage_form_input").click()},e.resetImg=function(t){e.setState({currentLogo:null,formData:null,fileSelected:!1})},e.onChangeLogo=function(t){var a=new FormData;a.append("file",t.target.files[0]),e.setState({newLogo:URL.createObjectURL(t.target.files[0]),formData:a,fileSelected:!0})},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.getCurrentCompanyInfo();case 3:t=e.sent,this.setState({loading:!1,currentLogo:t.results.logo?"https://<your url>/static-server/"+t.results.logo:null}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.t,a=e.tReady,n=this.state,r=n.loading,s=n.fileSelected,l=n.currentLogo,o=n.newLogo;return r?i.a.createElement("div",null,"Loading"):i.a.createElement("div",{className:"Outillage col-12 p-4"},i.a.createElement("div",{className:"Outillage__subtitle"},i.a.createElement("h1",null,a&&t("admin.outillage.subtitle"))),i.a.createElement("div",{className:"Outillage__subtitle__desc"},i.a.createElement("h5",null,a&&t("admin.outillage.subtitle_desc"))),i.a.createElement("div",{className:"Outillage__currentLogo"},i.a.createElement("h2",null,a&&t("admin.outillage.current_logo_title")),i.a.createElement("h5",null,a&&t("admin.outillage.current_logo_desc"))),i.a.createElement("div",{className:"Outillage__form"},i.a.createElement("div",{className:"Outillage__form__item"},i.a.createElement("div",{className:"Outillage__form__logo col-4"},!(l||o)&&i.a.createElement("p",null," ",a&&t("admin.outillage.no_logo_text")," "),(l||o)&&i.a.createElement("img",{src:o||l,alt:"logo"})),i.a.createElement("div",{className:"Outillage__form__input"},i.a.createElement("input",{type:"file",className:"Outillage__form__input__file",id:"outillage_form_input",accept:"image/*",onChange:this.onChangeLogo}),i.a.createElement(L.a,{variant:"primary",type:"button",onClick:this.toggleFileInput,className:"Outillage__form__input__button"},a&&t("admin.outillage.logoChangeButtonLabel")))),i.a.createElement(Q.a,{className:"col-12"},i.a.createElement("div",{className:"Outillage__form__action offset-6"},i.a.createElement(L.a,{type:"button",variant:"dark",onClick:this.resetImg,className:"Outillage__form__input__reset"},a&&t("utils.button.reset")),i.a.createElement(L.a,{type:"button",onClick:this.uploadImage,className:"Outillage__form__input__button",disabled:!s},a&&t("utils.button.save")))),i.a.createElement("div",{className:"Outillage__blockgame"},i.a.createElement("h2",null,a&&t("admin.outillage.block_game_title")),i.a.createElement("h5",null,a&&t("admin.outillage.block_game_desc"))),i.a.createElement("div",{className:"Outillage__form__action"},i.a.createElement("h5",{className:"col-8"},a&&t("admin.outillage.block_game_desc2")),i.a.createElement(Q.a,{className:"col-4"},i.a.createElement(L.a,{type:"button",onClick:this.blockGame,className:"Outillage__form__input__button"},a&&t("admin.outillage.btn_block"))))))}}]),a}(n.Component)),Te=Object(A.a)()(Re),ze=a(356),Ie=a(345),Ae=["utils.date.january","utils.date.february","utils.date.march","utils.date.april","utils.date.may","utils.date.june","utils.date.july","utils.date.august","utils.date.september","utils.date.october","utils.date.november","utils.date.december"],Pe=function(e){return Ae[e.getMonth()]},Le=a(48),Ue=(a(192),Object(A.a)()((function(e){var t=e.tReady,a=e.t,n=e.mission_number,r=e.date_start,s=e.date_end,l=e.mission_started,o=e.mission_title,c=e.mission_description,u=e.className,m=e.onMissionClick;return i.a.createElement("div",{className:"MissionItem ".concat(u||"")},i.a.createElement("div",{className:"MissionItem__header"},t&&"".concat(a("admin.planning.mission_week_short")).concat(n," : ").concat(r," ").concat(a("admin.planning.mission_week_to")," ").concat(s)),i.a.createElement("div",{className:"MissionItem__body"},i.a.createElement("div",{className:"MissionItem__body__title"},i.a.createElement("p",null,t&&a("admin.planning.mission_label")),i.a.createElement("p",null,"\xab ",o," \xbb")),i.a.createElement("div",{className:"MissionItem__body__desc"},c)),i.a.createElement("div",{className:"MissionItem__footer"},l?i.a.createElement(L.a,{variant:"primary"},t&&a("admin.planning.mission_active")):i.a.createElement(L.a,{variant:"secondary",onClick:function(e){e.preventDefault(),m({mission_number:n})}},t&&a("admin.planning.mission_pending"))))}))),De=(a(193),a(194),a(83)),We=function(){var e=Object(n.useState)([]),t=Object(B.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(new Set),s=Object(B.a)(r,1)[0],l=Object(n.useState)(new Set),o=Object(B.a)(l,1)[0];Object(n.useEffect)((function(){Me.getThemes(v.language).then((function(e){e.forEach((function(e){e.activated||o.add(e)})),i(e)}))}),[]);return{items:a,toggle:function(e){!function e(t,a,n,i){if(t.has(n)?t.delete(n):t.add(n),a.has(n)?a.delete(n):a.add(n),n.activated=!n.activated,a.size>i){var r=a.values().next().value;e(t,a,r,i)}}(s,o,e,1),i(Object(De.a)(a))},reset:function(){s.size&&(o.clear(),s.forEach((function(e){e.activated=!e.activated})),a.forEach((function(e){e.activated||o.add(e)})),s.clear(),i(Object(De.a)(a)))},save:function(){if(!s.size)return!0;var e=[],t=[];s.forEach((function(a){a.activated?e.push(a.id_thematique):t.push(a.id_thematique)}));var a=[];return e.length&&a.push(Me.activateThemes(e)),t.length&&a.push(Me.deactivateThemes(t)),Promise.all(a).then((function(){return!0})).catch((function(){return!1}))}}};var Be=Object(n.memo)((function(e){var t=We(),a=t.items,r=t.toggle,s=t.reset,l=t.save,o=e.t,c=e.tReady,u=e.close,m=Object(n.useState)(!1),d=Object(B.a)(m,2),p=d[0],v=d[1],_=Object(n.useState)(!1),h=Object(B.a)(_,2),f=h[0],g=h[1],E=Object(n.useRef)(null),b=function(){var e=function(){var e,t=document.createElement("fakeelement"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(e in a)if(void 0!==t.style[e])return a[e]}();if(e){g(!0);E.current.addEventListener(e,(function t(){E.current.removeEventListener(e,t),u()}))}else u()},y=function(){var e=Object(ie.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,l();case 3:t=e.sent,v(!1),t?b():console.error("error when submitting");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:["PlanningConfig",f&&"PlanningConfig--closing"].filter((function(e){return e})).join(" "),ref:E},i.a.createElement("div",{className:"PlanningConfig__title"},c&&"".concat(o("admin.planning.config.title"))),i.a.createElement("div",{className:"PlanningConfig__subtitle"},c&&o("admin.planning.config.description")),i.a.createElement("div",{className:"PlanningConfig__items col-12 pt-4 d-flex flex-wrap"},a.map((function(e){return i.a.createElement("div",{key:e.id_thematique,className:"PlanningConfig__item-container col-6 p-2"},i.a.createElement("div",{className:["PlanningConfig__item p-3",!e.activated&&"PlanningConfig__item--disabled"].filter((function(e){return e})).join(" "),onClick:function(){return r(e)}},i.a.createElement("input",{type:"checkbox",checked:e.activated,readOnly:!0,className:"mr-3"}),e.nom))}))),i.a.createElement("div",{className:"PlanningConfig__buttons"},i.a.createElement(L.a,{variant:"secondary",className:"m-1",onClick:function(){s(),b()},disabled:p||f},c&&o("utils.cancel")),i.a.createElement(L.a,{variant:"primary",className:"m-1",onClick:y,disabled:p||f},o(c&&p?"utils.button.saving":"utils.button.save"))))})),Qe=Object(A.a)()(Be),Ge=Object(A.a)()((function(e){var t=e.t,a=e.tReady,r=e.missions,s=e.onMissionActivate,l=r.findIndex((function(e){return!0===e.actif})),o=Object(n.useState)(l),c=Object(B.a)(o,2),u=c[0],m=c[1],d=Object(n.useState)(!1),p=Object(B.a)(d,2),v=p[0],_=p[1];return i.a.createElement("div",{className:"PlanningComponent"},i.a.createElement("div",{className:"PlanningComponent__title"},a&&t("admin.planning.title")),i.a.createElement("div",{className:"PlanningComponent__subtitle"},a&&t("admin.planning.description")),i.a.createElement("div",{className:"PlanningComponent__missions col-12 pt-4"},r.map((function(e,t){return i.a.createElement(Ue,{key:"mission-".concat(t),mission_number:t+1,date_start:e.debut_semaine,date_end:e.fin_semaine,mission_started:t===u,mission_title:e.nom,mission_description:e.description,className:"col-3 m-1",onMissionClick:function(){m(t),s(r[t])}})}))),i.a.createElement("div",{className:"PlanningComponent__buttons"},i.a.createElement(L.a,{variant:"secondary",onClick:function(){return _(!0)}},a&&t("admin.planning.setting")," ",i.a.createElement(Le.f,null))),v&&i.a.createElement(Qe,{close:function(){_(!1)}}))})),Ve=(a(195),Object(A.a)()((function(e){var t,a=e.tReady,n=e.t,r=e.currentWeek,s=e.semaines,l=e.previousAvailable,o=e.nextAvailable;return i.a.createElement("div",{className:"AgendaWeekSwitcher"},i.a.createElement("div",{className:"AgendaWeekSwitcher__previous"},i.a.createElement(L.a,{onClick:e.onClickPreviousWeek,disabled:!l,className:"bleu"}," ","<"," ")),i.a.createElement("div",{className:"AgendaWeekSwitcher__current"},a&&n("admin.agenda.week")," ",r+1," ",null===(t=s[r])||void 0===t?void 0:t.name),i.a.createElement("div",{className:"AgendaWeekSwitcher__next"},i.a.createElement(L.a,{onClick:e.onClickNextWeek,disabled:!o,className:"bleu"}," ",">"," ")))}))),Fe=(a(196),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.date,n=e.name,r=e.desc,s=e.done,l=e.onItemClick,o=e.className,c=e.tReady,u=e.t;return i.a.createElement("div",{className:"AgendaItem ".concat(s?"AgendaItem__done":""," ").concat(o||"")},i.a.createElement("div",{className:"AgendaItem__date"},a),i.a.createElement("div",{className:"AgendaItem__name"},n),i.a.createElement("div",{className:"AgendaItem__desc"},r),i.a.createElement("div",{className:"AgendaItem__actions"},i.a.createElement(L.a,{onClick:function(){l({id:t,status:!s})},className:"bleu",variant:s?"light":"primary"},c&&u(s?"admin.agenda.item_done":"admin.agenda.item_pending"))))}}]),a}(i.a.Component)),Xe=Object(A.a)()(Fe),Ke=(a(197),Object(A.a)()((function(e){var t=e.items,a=e.className,n=e.day,r=e.onAgendaItemClick,s=e.tReady,l=e.t,o=0===_e()(n).diff(_e()().format("DD-MM-YYYY")),c=function(e){r(e)},u=_e()(n,"DD-MM-YYYY");return i.a.createElement("div",{className:"AgendaDay ".concat(a||"")},i.a.createElement("div",{className:"AgendaDay__header ".concat(o?"AgendaDay__header__currentday":"")},i.a.createElement("span",{className:"AgendaDay__header__day"},u.format("DD")),i.a.createElement("span",{className:"AgendaDay__header__month"},s&&l(Ae[u.month()]))),i.a.createElement("div",{className:"AgendaDay__body"},t.map((function(e,t){return i.a.createElement(Xe,{key:"agenda-item-".concat(t),className:"AgendaDay__body__item",name:e.name,desc:e.desc,date:e.date,done:e.done,id:e.id,onItemClick:c})}))))}))),Je=(a(198),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={result:[],currentWeek:0,loading:!0},e.goPreviousWeek=function(){e.setState({currentWeek:e.state.currentWeek>1?--e.state.currentWeek:0})},e.goNextWeek=function(){var t=++e.state.currentWeek;t>e.state.result.length-1&&t--,e.setState({currentWeek:t})},e.onAgendaItemClick=function(){var t=Object(ie.a)(ne.a.mark((function t(a){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.setAgendaItemStatus({id_item:a.id,item_status:a.status});case 2:return t.next=4,e.fetchData();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getAgenda(v.language);case 2:t=e.sent,a=this.state.currentWeek?this.state.currentWeek:0,t&&t.forEach((function(e,t){_e()().isBetween(_e()(e.date_start),_e()(e.date_end))&&(a=t)})),this.setState({result:t,loading:!1,currentWeek:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.tReady,n=t.t,r=this.state,s=r.loading,l=r.currentWeek,o=Pe(new Date);if(window.moment=_e.a,s)return i.a.createElement(i.a.Fragment,null," Loading ... ");var c,u=this.state.result.map((function(e){return{id_semaine:e.id_semaine,name:e.name}})),m=null===(c=this.state.result[this.state.currentWeek])||void 0===c?void 0:c.agenda;return i.a.createElement("div",{className:"AdminAgenda"},i.a.createElement("div",{className:"AdminAgenda__header"},i.a.createElement("div",{className:"AdminAgenda__header__title"},a&&n("admin.agenda.title")," ",a&&n(o)," ",(new Date).getFullYear()),i.a.createElement("div",{className:"AdminAgenda__header__actions"},i.a.createElement(Ve,{semaines:u,onClickPreviousWeek:this.goPreviousWeek,onClickNextWeek:this.goNextWeek,currentWeek:this.state.currentWeek,previousAvailable:l>0,nextAvailable:l<this.state.result.length}))),i.a.createElement("div",{className:"AdminAgenda__body"},m&&Object.keys(m).map((function(t,a){return i.a.createElement(Ke,{className:"AdminAgenda__body__item p-0",key:"agenda-".concat(a),items:m[t],day:t,onAgendaItemClick:e.onAgendaItemClick})}))))}}]),a}(i.a.Component)),He=Object(A.a)()(Je),Ye=a(355),Ze=a(73),$e=a.n(Ze),et=a(147),tt=(a(199),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._loadAssets=function(){Object(T.a)([Me.getListAsset(1,v.language),Se.getClassement(v.language,"xp",{limit:3}),Se.getClassement(v.language,"point",{limit:10})]).toPromise().then((function(e){n.setState({listAssets:e[0],currentTemplate:e[0]?e[0][0]:null,listUserClassementXp:e[1]?e[1]:[],listUserClassementPoint:e[2]?e[2]:[]},(function(){n.state.currentTemplate&&n._loadTemplate()}))}))},n._loadTemplate=function(){Me.getTemplate(n.state.currentTemplate.id_asset_communication,v.language).then((function(e){var t=n.state.currentTemplate;t.template=e.template,t.width=e.width,t.height=e.height,n.setState({currentTemplate:t},(function(){setTimeout((function(){n._handleEditorInit()}),500)}))}))},n._handleEditorInit=function(){var e=document.getElementById("bodyContent");e&&n.state.currentTemplate&&n.state.currentTemplate.template&&(e.style.backgroundImage="url('https://<your url>/static-server"+n.state.currentTemplate.template+"')",e.style.backgroundSize="cover",e.style.backgroundRepeat="no-repeat",e.style.width=n.state.currentTemplate.width+"px",e.style.height=n.state.currentTemplate.height+"px")},n._onChangeAsset=function(e){n.setState({currentTemplate:e},(function(){n._loadTemplate()}))},n.copyClipBoard=function(){var e=Object(ie.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=document.getElementById("bodyContent");try{$e.a.toBlob(a).then((function(e){navigator.clipboard.write([new ClipboardItem({"image/png":e})])})).catch((function(e){$e.a.toPng(a).then((function(e){var t=document.createElement("img");t.src=e,document.getElementById("cache-clipboard").appendChild(t);var a=document.createRange();a.setStartBefore(t),a.setEndAfter(t),a.selectNode(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(a),document.execCommand("copy"),window.setTimeout((function(){document.getElementById("data-content").removeChild(document.getElementById("cache-clipboard"));var e=document.createElement("div");e.id="cache-clipboard",document.getElementById("data-content").appendChild(e)}),100)})).catch((function(e){console.error("oops, something went wrong!",e)}))}))}catch(t){console.log(t)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._renderClassement=function(e){var t,a=[],i="",r=0;switch(e){case"xp":a=n.state.listUserClassementXp,i="nb_xp",r=1285;break;case"pts":a=n.state.listUserClassementPoint,i="nb_point",r=950}var s,l="";return l+='\n      <div style="top: '.concat(r,'px; height: 410px; position: relative; padding: 0 100px; font-size: 18pt; line-height: 22pt; font-family: \'Segoe UI\'; ">\n      <table style="width:100%; border:none" border="0"><thead style="background: #7b83eb; color: #fff;"><tr>'),l+='<th style="padding:10px">#</th><th style="padding:10px">Explorateur.trice</th><th style="padding:10px">Points</th></tr></thead>',l+="<tbody>",null===(t=a)||void 0===t||t.forEach((function(e){s="",1===e.rang&&(s=' style="font-weight: bold; color:#f1b446;"'),2===e.rang&&(s=' style="font-weight: bold; color:#818181;"'),3===e.rang&&(s=' style="font-weight: bold; color:#a85150;"'),l+="<tr"+s+">",l+='<td style="padding:10px">'.concat(e.rang,"</td>"),l+='<td style="padding:10px">'.concat(e.nom,"</td>"),l+='<td style="padding:10px">'.concat(e[i],"</td>"),l+="</tr>"})),l+="</tbody></table></div>"},n.state={currentTemplate:null,listAssets:[],listUserClassementPoint:[],listUserClassementXp:[]},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this._loadAssets()}},{key:"render",value:function(){var e,t,a,n,r,s,l,o,c,u,m,d,p,v,_,h=this,f=this.props,g=f.tReady,E=f.t;return i.a.createElement("div",{className:"Emailing"},i.a.createElement("div",{className:"Emailing__header"},i.a.createElement("h1",{className:"Emailing__header__title"},g&&E("admin.emailing.title")),i.a.createElement("p",{className:"Emailing__header__desc"},g&&E("admin.emailing.desc"))),i.a.createElement("div",{className:"Emailing__body"},i.a.createElement("div",{className:"Emailing__body__selector"},i.a.createElement(Ye.a,{className:"d-inline-block mb-3"},i.a.createElement(Ye.a.Toggle,{variant:"success",id:"dropdown-basic"},null===(e=this.state.currentTemplate)||void 0===e?void 0:e.nom),i.a.createElement(Ye.a.Menu,null,null===(t=this.state.listAssets)||void 0===t?void 0:t.map((function(e){return i.a.createElement(Ye.a.Item,{key:e.id_asset_communication,onClick:function(){return h._onChangeAsset(e)}},e.nom)}))))),i.a.createElement("div",{className:"Emailing__body__content",id:"data-content"},i.a.createElement(et.a,{value:'\n                <div id="bodyContent">\n                  '.concat((null===(a=this.state.currentTemplate)||void 0===a?void 0:a.contenu)&&(null===(n=this.state.currentTemplate)||void 0===n?void 0:n.contenu[0])?null===(r=this.state.currentTemplate)||void 0===r?void 0:r.contenu[0]:"","\n                  ").concat((null===(s=this.state.currentTemplate)||void 0===s?void 0:s.contenu)&&(null===(l=this.state.currentTemplate)||void 0===l?void 0:l.contenu[1])?null===(o=this.state.currentTemplate)||void 0===o?void 0:o.contenu[1]:"","\n                  ").concat((null===(c=this.state.currentTemplate)||void 0===c?void 0:c.contenu)&&(null===(u=this.state.currentTemplate)||void 0===u?void 0:u.contenu[2])?null===(m=this.state.currentTemplate)||void 0===m?void 0:m.contenu[2]:"","\n                  ").concat(5===(null===(d=this.state.currentTemplate)||void 0===d?void 0:d.id_asset_communication)||12===(null===(p=this.state.currentTemplate)||void 0===p?void 0:p.id_asset_communication)?this._renderClassement("pts"):"","\n                  ").concat(5===(null===(v=this.state.currentTemplate)||void 0===v?void 0:v.id_asset_communication)||12===(null===(_=this.state.currentTemplate)||void 0===_?void 0:_.id_asset_communication)?this._renderClassement("xp"):"","\n                </div>"),init:{height:500,menubar:!1,plugins:["lists link print preview","searchreplace fullscreen","insertdatetime paste"],toolbar:"undo redo | bold italic backcolor |              alignleft aligncenter alignright alignjustify |              bullist numlist outdent indent",body_class:"Emailing__body__editor",id:"text_editor",inline:!0}}),i.a.createElement("div",{id:"cache-clipboard"}))),i.a.createElement("div",{className:"Emailing__actions text-right mt-3"},i.a.createElement(L.a,{onClick:this.copyClipBoard},g&&E("utils.cache_copy"))))}}]),a}(i.a.Component)),at=Object(A.a)()(tt),nt=(a(200),function e(t){Object(j.a)(this,e),this.id=void 0,this.name=void 0,this.items=[],this.id=t.id_social_asset_communication,this.name=t.nom_social,this.items.push(t)}),it=function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getListAsset(2,v.language);case 2:return t=e.sent,a=new Map,t.forEach((function(e){a.has(e.id_asset_communication)?a.get(e.id_social_asset_communication).items.push(e):a.set(e.id_social_asset_communication,new nt(e))})),e.abrupt("return",Object(De.a)(a).map((function(e){return e[1]})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(n.useState)([]),t=Object(B.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(),s=Object(B.a)(r,2),l=s[0],o=s[1],c=Object(n.useState)(),u=Object(B.a)(c,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){it().then((function(e){i(e),o(e[0])}))}),[]),Object(n.useEffect)((function(){if(l){var e="https://<your url>/static-server/images/social/"+l.items[0].nom_fichier;d(e)}}),[l]),{items:a,selected:l,bannerPath:m,changeSelection:o}},st=function(e){return function(){var t=e.current;try{$e.a.toBlob(t).then((function(e){try{navigator.clipboard.write([new ClipboardItem({"image/png":e})])}catch(t){console.error(t)}})).catch((function(e){$e.a.toPng(t).then((function(e){var t=document.createElement("img");t.src=e,document.getElementById("cache-clipboard").appendChild(t);var a=document.createRange();a.setStartBefore(t),a.setEndAfter(t),a.selectNode(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(a),document.execCommand("copy"),window.setTimeout((function(){document.getElementById("data-content").removeChild(document.getElementById("cache-clipboard"));var e=document.createElement("div");e.id="cache-clipboard",document.getElementById("data-content").appendChild(e)}),100)})).catch((function(e){console.error("oops, something went wrong!",e)}))}))}catch(a){console.log(a)}}},lt=Object(n.memo)((function(e){var t=e.t,a=e.tReady,r=rt(),s=r.items,l=r.selected,o=r.bannerPath,c=r.changeSelection,u=Object(n.useRef)(null);return i.a.createElement("div",{className:"Social"},i.a.createElement("div",{className:"Social__header"},i.a.createElement("h1",{className:"Social__header__title"},a&&t("admin.social.title")),i.a.createElement("p",{className:"Social__header__desc"},a&&t("admin.social.description"))),i.a.createElement("div",{className:"Social__body"},i.a.createElement("div",{className:"Social__body__selector"},i.a.createElement(Ye.a,{className:"d-inline-block mb-3"},i.a.createElement(Ye.a.Toggle,{variant:"success",id:"dropdown-basic"},l?l.name:"what should i put there for yammer ?"),i.a.createElement(Ye.a.Menu,null,s.map((function(e){return i.a.createElement(Ye.a.Item,{key:e.id,onClick:function(){return c(e)}},e.name)}))))),i.a.createElement("div",{className:"Social__body__content",ref:u,id:"data-content"},o&&i.a.createElement("img",{src:o,alt:"banner"}),i.a.createElement("div",{id:"cache-clipboard"}))),i.a.createElement("div",{className:"text-right mt-3"},i.a.createElement(L.a,{onClick:st(u)},a&&t("utils.cache_copy"))))})),ot=Object(A.a)()(lt),ct=a(79),ut=(a(201),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={title:"",value:"",sendDisabled:!1},n.handleChange=n.handleChange.bind(Object(ct.a)(n)),n.handleTitleChange=n.handleTitleChange.bind(Object(ct.a)(n)),n}return Object(M.a)(a,[{key:"handleChange",value:function(e){var t,a;(null===(t=e.target)||void 0===t||null===(a=t.value)||void 0===a?void 0:a.length)>32&&(e.target.value=e.target.value.slice(0,-1)),this.setState({value:e.target.value})}},{key:"handleTitleChange",value:function(e){var t,a;(null===(t=e.target)||void 0===t||null===(a=t.value)||void 0===a?void 0:a.length)>32&&(e.target.value=e.target.value.slice(0,-1)),this.setState({title:e.target.value})}},{key:"resetInput",value:function(){this.setState({value:"",title:""})}},{key:"sendNotification",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a,n=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(null===(t=this.state.title)||void 0===t?void 0:t.trim())||""===(null===(a=this.state.value)||void 0===a?void 0:a.trim())){e.next=5;break}return this.setState({sendDisabled:!0}),this.resetInput(),e.next=5,Me.sendNotification(this.state).then((function(e){if(e.response){var t=document.getElementById("confirmation");t.style.display="block",setTimeout((function(){t.style.display="none"}),1e4),n.setState({sendDisabled:!1})}}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.tReady,n=t.t;return i.a.createElement("div",{className:"Notification"},i.a.createElement("div",{className:"Notification__header"},i.a.createElement("h1",{className:"Notification__header__title"},a&&n("admin.notification.title")),i.a.createElement("p",{className:"Notification__header__desc"},a&&n("admin.notification.description"))),i.a.createElement("div",{className:"Notification__body"},i.a.createElement("div",{className:"Notification__body__title"},a&&n("admin.notification.title_message")),i.a.createElement("div",null,a&&n("admin.notification.detail_message")),i.a.createElement("input",{type:"text",value:this.state.title,onChange:this.handleTitleChange,className:"Notification__body__input"}),i.a.createElement("div",{className:"Notification__body__title"},a&&n("admin.notification.your_message")),i.a.createElement("div",null,a&&n("admin.notification.detail_your_message")),i.a.createElement("input",{type:"text",className:"Notification__body__input",value:this.state.value,onChange:this.handleChange}),i.a.createElement("div",{className:"Notification__body__buttons"},i.a.createElement("div",{className:"Notification__body__buttons__confirmation",id:"confirmation"},a&&n("admin.notification.notifiation_confirmation")),i.a.createElement(L.a,{className:"Notification__body__buttons__btn-left",variant:"secondary",onClick:function(){return e.resetInput()}},a&&n("utils.button.reset")),i.a.createElement(L.a,{disabled:this.state.sendDisabled,variant:"primary",onClick:function(){return e.sendNotification()}},a&&n("utils.button.send")))))}}]),a}(i.a.Component)),mt=Object(A.a)()(ut),dt=(a(202),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0,campaigns:[],agenda:[],curTabKey:"PLANNING"},e.activateMission=function(){var t=Object(ie.a)(ne.a.mark((function t(a){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.setCurrentMission({id_semaine:a.id_semaine});case 2:e.componentDidMount();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._setCurrentTab=function(t){e.setState({curTabKey:t})},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.getAllCampaigns(v.language);case 3:(t=e.sent).availableMissions.forEach((function(e){var t=new Date(e.debut_semaine),n=new Date(e.fin_semaine);e.debut_semaine="".concat(t.getDate()," ").concat(a.props.t(Pe(t)).toLowerCase()),e.fin_semaine="".concat(n.getDate()," ").concat(a.props.t(Pe(n)).toLowerCase())})),this.setState({campaigns:t.availableMissions,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.tReady,r=this.state,s=r.loading,l=r.campaigns;return s?i.a.createElement("div",null," Loading ..."):i.a.createElement("div",{className:"PlanningContainer"},i.a.createElement("div",{className:"PlanningContainer__subtitle"},i.a.createElement("h1",null,n&&a("admin.planning.subtitle"))),i.a.createElement("div",{className:"PlanningContainer__container col-12 main-encart"},i.a.createElement("div",{className:"PlanningContainer__container__title"},i.a.createElement("h2",null,n&&a("admin.planning.board_title")),i.a.createElement("p",null,n&&a("admin.planning.board_desc"))),i.a.createElement("div",{className:"PlanningContainer__container__planning"},i.a.createElement(ze.a,{id:"controlled-tab-planning",activeKey:this.state.curTabKey,onSelect:function(t){return e._setCurrentTab(t)},className:"PlanningContainer__container__planning__tabs"},i.a.createElement(Ie.a,{eventKey:"PLANNING",title:a("admin.planning.menu_planning"),className:"PlanningContainer__container__planning__tabs__item"},i.a.createElement(He,null)),i.a.createElement(Ie.a,{eventKey:"EMAIL",title:a("admin.planning.menu_email")},i.a.createElement(at,null)),i.a.createElement(Ie.a,{eventKey:"SOCIAL",title:a("admin.planning.menu_social")},i.a.createElement(ot,null)),i.a.createElement(Ie.a,{eventKey:"NOTIFICATION",title:a("admin.planning.menu_teams")},i.a.createElement(mt,null)),i.a.createElement(Ie.a,{eventKey:"MISSION",title:a("admin.planning.menu_missions")},i.a.createElement(Ge,{missions:l,onMissionActivate:this.activateMission}))))))}}]),a}(i.a.Component)),pt=Object(A.a)()(dt),vt=a(346),_t=a(347),ht=(a(203),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._loadDataClassement=function(){var e=[Se.getClassement(v.language,n.state.currentView,{monde:n.state.viewMonde?1:0})],t=!1;switch(n.props.currentUser.id_role){case 2:t=!0,e.push(Se.getIndicateur());break;default:e.push(Se.getClassement(v.language,n.state.currentView,{monde:n.state.viewMonde?1:0,user:1}))}Object(T.a)(e).toPromise().then((function(e){n.setState({listUser:e[0]?e[0]:[],classementCurrentUser:t?null:e[1],listIndicateur:t?e[1]:null})}))},n._setCurrentView=function(e){n.setState({currentView:e},(function(){n._loadDataClassement()}))},n._calculMauvaiseReponse=function(e){return e&&e.nb_reponse&&e.nb_reponse>0?e.nb_reponse-(e.nb_reponse_ok?e.nb_reponse_ok:0):0},n.state={listUser:[],currentView:"point",viewMonde:!1},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this._loadDataClassement()}},{key:"_renderPoint",value:function(e){switch(this.state.currentView){case"xp":return null===e||void 0===e?void 0:e.nb_xp;default:return null===e||void 0===e?void 0:e.nb_point}}},{key:"_renderPodiumElement",value:function(e){return i.a.createElement("div",{className:"podium-user top".concat(e.rang," text-center")},i.a.createElement("p",{className:"avatar mb-0 pb-0"},i.a.createElement("img",{src:""+e.image_avatar,alt:"Avatar"})),i.a.createElement("p",{className:"pb-0 mb-0"},e.rang,".",i.a.createElement("strong",null,e.nom)),i.a.createElement("p",{className:"pb-0 mb-0"},this._renderPoint(e)," points"))}},{key:"render",value:function(){var e,t,a,n,r,s,l,o,c,u,m,d,p,v,_,h,f,g,E,b,y,N,k,x,w=this,O=this.props,C=O.t,j=O.tReady,M=(null===(e=this.state.listUser)||void 0===e?void 0:e.filter((function(e){return 1===e.rang})).length)>0?null===(t=this.state.listUser)||void 0===t?void 0:t.filter((function(e){return 1===e.rang}))[0]:null,S=(null===(a=this.state.listUser)||void 0===a?void 0:a.filter((function(e){return 2===e.rang})).length)>0?null===(n=this.state.listUser)||void 0===n?void 0:n.filter((function(e){return 2===e.rang}))[0]:null,q=(null===(r=this.state.listUser)||void 0===r?void 0:r.filter((function(e){return 3===e.rang})).length)>0?null===(s=this.state.listUser)||void 0===s?void 0:s.filter((function(e){return 3===e.rang}))[0]:null;return i.a.createElement("div",null,i.a.createElement("h1",{className:"color-primary d-none d-md-block"},j&&C("ranking.program_ranking")),i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/icone/cup.png",alt:"Ico Classement G\xe9n\xe9ral",className:"ico-titre"}),j&&C("ranking.season_ranking")),i.a.createElement("div",{className:"main-encart nobg-mobile main-classement"},2===(null===(l=this.props.currentUser)||void 0===l?void 0:l.id_role)&&i.a.createElement("div",{className:"indicateur"},i.a.createElement("div",{className:"d-flex flex-column flex-md-row"},i.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center indicateur-item p-2 pt-3 mr-2"},i.a.createElement("p",{className:"h1 mb-2"},null===(o=this.state.listIndicateur)||void 0===o?void 0:o.nbJoueur),i.a.createElement("p",{className:"mb-0 text-center"},j&&C("ranking.player_in"))),i.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center indicateur-item p-2 pt-3 mx-2"},i.a.createElement("p",{className:"h1 mb-2"},null===(c=this.state.listIndicateur)||void 0===c?void 0:c.nbJoueurSemaine),i.a.createElement("p",{className:"mb-0 text-center"},j&&C("ranking.new_players"))),i.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center indicateur-item p-2 pt-3 mx-2"},i.a.createElement("p",{className:"h1 mb-2"},null===(u=this.state.listIndicateur)||void 0===u?void 0:u.pcReponseOk,i.a.createElement("sup",null,"%")),i.a.createElement("p",{className:"mb-0 text-center"},j&&C("ranking.total_good_answers"))),i.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center indicateur-item p-2 pt-3 mx-2"},i.a.createElement("p",{className:"h1 mb-2"},null===(m=this.state.listIndicateur)||void 0===m?void 0:m.nbJoueurNiv15),i.a.createElement("p",{className:"mb-0 text-center"},j&&C("ranking.playes_lvl_15"))),i.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center indicateur-item p-2 pt-3 ml-2"},i.a.createElement("p",{className:"h1 mb-2"},null===(d=this.state.listIndicateur)||void 0===d?void 0:d.nbModuleCompletSemaine),i.a.createElement("p",{className:"mb-0 text-center"},j&&C("ranking.modules_completed")))),i.a.createElement("p",{className:"p-sep w-100"})),i.a.createElement("div",{className:"d-none d-md-block mb-3"}," ",i.a.createElement(L.a,{variant:"point"===this.state.currentView?"primary":"dark",onClick:function(){return w._setCurrentView("point")},className:"mr-3 bleu"},i.a.createElement("img",{src:"/images/icone/cup.png",alt:"Ico Classement G\xe9n\xe9ral",className:"btn-ico"}),j&&C("ranking.global_ranking")),i.a.createElement(L.a,{variant:"xp"===this.state.currentView?"primary":"dark",onClick:function(){return w._setCurrentView("xp")},className:"mr-3 bleu d-inline-flex align-items-center"},i.a.createElement("img",{src:"/images/icone/coin.png",alt:"Ico Classement EXP",className:"btn-ico"}),j&&C("ranking.exp_ranking"))),i.a.createElement("div",{className:"d-md-none mb-4 text-center"}," ",i.a.createElement(vt.a,{"aria-label":"Filtre du classement",className:"mr-2"},i.a.createElement(L.a,{variant:"point"===this.state.currentView?"primary":"dark",onClick:function(){return w._setCurrentView("point")}},j&&C("ranking.ranking"),i.a.createElement("br",null),j&&C("ranking.game")),i.a.createElement(L.a,{variant:"xp"===this.state.currentView?"primary":"dark",onClick:function(){return w._setCurrentView("xp")},className:"mr-3"},j&&C("ranking.ranking"),i.a.createElement("br",null),"EXP")),i.a.createElement("div",{className:"position-relative d-flex podium"},S?this._renderPodiumElement(S):i.a.createElement("div",{className:"podium-user top2"}),M?this._renderPodiumElement(M):i.a.createElement("div",{className:"podium-user top1"}),q?this._renderPodiumElement(q):i.a.createElement("div",{className:"podium-user top3"}))),i.a.createElement(_t.a,{responsive:!0,hover:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",{className:"th-nom"},j&&C("utils.explorer")),i.a.createElement("th",null,j&&C("ranking.ranking_points")),i.a.createElement("th",null,j&&C("utils.good_answers")),i.a.createElement("th",null,j&&C("ranking.bad_answers")),i.a.createElement("th",null,j&&C("utils.questioner_complete")),i.a.createElement("th",null,j&&C("utils.level")),i.a.createElement("th",null,j&&C("ranking.medals")))),i.a.createElement("tbody",null,null===(p=this.state.listUser)||void 0===p?void 0:p.map((function(e){var t;return i.a.createElement("tr",{key:e.id_user,className:"rang".concat(e.rang).concat(e.id_user===(null===(t=w.state.classementCurrentUser)||void 0===t?void 0:t.id_user)?" active":"")},i.a.createElement("td",null,e.rang),i.a.createElement("td",null,i.a.createElement("div",{className:"d-flex"},e.image_avatar?i.a.createElement("p",{className:"avatar mb-0 pb-0"},i.a.createElement("img",{src:""+e.image_avatar,alt:"Avatar"})):i.a.createElement("span",{className:"d-none"}),i.a.createElement("p",{className:"mb-0 pb-0"},e.nom))),i.a.createElement("td",null,w._renderPoint(e),i.a.createElement("span",{className:"d-md-none"}," points")),i.a.createElement("td",{className:"no-mobile"},e.nb_reponse_ok?e.nb_reponse_ok:0),i.a.createElement("td",{className:"no-mobile"},w._calculMauvaiseReponse(e)),i.a.createElement("td",{className:"no-mobile"},e.nb_questionnaire_complete),i.a.createElement("td",{className:"no-mobile"},e.niveau),i.a.createElement("td",{className:"no-mobile"},e.nb_medaille))}))),this.state.classementCurrentUser&&-1===(null===(v=this.state.listUser)||void 0===v?void 0:v.map((function(e){return e.id_user})).indexOf(null===(_=this.state.classementCurrentUser)||void 0===_?void 0:_.id_user))&&i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("td",null,null===(h=this.state.classementCurrentUser)||void 0===h?void 0:h.rang),i.a.createElement("td",null,i.a.createElement("div",{className:"d-flex"},(null===(f=this.state.classementCurrentUser)||void 0===f?void 0:f.image_avatar)?i.a.createElement("p",{className:"avatar mb-0 pb-0"},i.a.createElement("img",{src:""+(null===(g=this.state.classementCurrentUser)||void 0===g?void 0:g.image_avatar),alt:"Avatar"})):i.a.createElement("span",{className:"d-none"}),i.a.createElement("p",{className:"mb-0 pb-0"},null===(E=this.state.classementCurrentUser)||void 0===E?void 0:E.nom))),i.a.createElement("td",null,this._renderPoint(this.state.classementCurrentUser)),i.a.createElement("td",{className:"no-mobile"},(null===(b=this.state.classementCurrentUser)||void 0===b?void 0:b.nb_reponse_ok)?null===(y=this.state.classementCurrentUser)||void 0===y?void 0:y.nb_reponse_ok:0),i.a.createElement("td",{className:"no-mobile"},this._calculMauvaiseReponse(this.state.classementCurrentUser)),i.a.createElement("td",{className:"no-mobile"},null===(N=this.state.classementCurrentUser)||void 0===N?void 0:N.nb_questionnaire_complete),i.a.createElement("td",{className:"no-mobile"},null===(k=this.state.classementCurrentUser)||void 0===k?void 0:k.niveau),i.a.createElement("td",{className:"no-mobile"},null===(x=this.state.classementCurrentUser)||void 0===x?void 0:x.nb_medaille))))))}}]),a}(n.Component)),ft=Object(A.a)()(Object(l.b)((function(e){return{currentUser:e.user.currentUser}}))(ht)),gt=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){return i.a.createElement(te,{hasGradient:!0},i.a.createElement(ce,{currentRouterLink:this.props.location.pathname}),i.a.createElement("div",{className:"main-content w-100 py-4 px-5"},i.a.createElement("div",{className:"mb-3"},i.a.createElement(ue,{hasGradient:!0})),i.a.createElement(R.d,null,i.a.createElement(R.b,{exact:!0,path:"/Cockpit",component:qe}),i.a.createElement(R.b,{exact:!0,path:"/Outillage",component:Te}),i.a.createElement(R.b,{exact:!0,path:"/Planning",component:pt}),i.a.createElement(R.b,{exact:!0,path:"/Classement",component:ft}),i.a.createElement(R.b,{component:qe}))))}}]),a}(n.Component),Et=Object(R.g)(gt),bt=Object(l.b)((function(e){return{}}))(Et),yt=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/user",e}return Object(M.a)(a,[{key:"getUser",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource,{language:e,mode:t})}},{key:"createUserByAD",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/create-by-ad",t,{language:e})}},{key:"getMedaille",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/medailles",{language:e})}},{key:"setMedailleAvatar",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/set-medaille-avatar",{id:e})}},{key:"getCurrentCampaignInfo",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/current-mission",{language:e})}},{key:"runChecks",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/check-rewards")}},{key:"getCurrentReward",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/current-reward")}},{key:"checkLevelUp",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/check-level-up")}},{key:"checkNewMedal",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/check-new-medal",{language:e})}}]),a}(H)),Nt=(a(204),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._setDisplayMenu=function(){n.setState({displayMenu:!n.state.displayMenu})},n.state={listMenu:[],organisationLogo:null},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.getMenu(v.language);case 3:t=e.sent,this.setState({listMenu:t.results,organisationLogo:null,displayMenu:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Menu error",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.currentRouterLink;return i.a.createElement("div",{className:"MenuMobile col-12 p-0 ".concat(this.state.displayMenu?"MenuMobile__expand":"")},i.a.createElement("div",{className:"MenuMobile__header",onClick:function(){return t._setDisplayMenu()}},i.a.createElement("div",{className:"MenuMobile__header__img"},i.a.createElement("img",{src:"/images/logo/"+v.language+"/logo_centre_violet.png",alt:"logo",className:"teams_logo"})),i.a.createElement("div",{className:"MenuMobile__header__seperator"})),this.state.displayMenu&&i.a.createElement("div",{className:"MenuMobile__items px-4"},i.a.createElement(re.a,{defaultActiveKey:"/#"+a},null===(e=this.state.listMenu)||void 0===e?void 0:e.map((function(e){var a={backgroundImage:"url('/images/menu/"+e.picto+"')"};return i.a.createElement(re.a.Item,{key:e.id_page,action:!0,href:e.router_link,className:"py-2 d-flex align-items-center menu".concat(e.id_page),onClick:function(){return t._setDisplayMenu()}},i.a.createElement("div",{style:a,className:"ico-menu"}),i.a.createElement("div",{className:"title-menu"},e.nom))})))))}}]),a}(i.a.Component)),kt=(a(205),function(e){var t=e.children,a=e.currentRouterLink,n="overlay-purple";return-1!==a.indexOf("/Cockpit")?n="gradient":-1!==a.indexOf("/Regles")&&(n="overlay-mauve"),i.a.createElement(ee.a,{fluid:!0,className:"main-container p-0 ".concat(n)},i.a.createElement(Nt,{currentRouterLink:a}),i.a.createElement("div",{className:"MobileLayout__content px-3 pb-3"},t))}),xt=a(25),wt=a(353),Ot=a(26),Ct=a(47);a(283);function jt(){var e=Object(xt.a)(["\n    animation-duration: 1.25s;\n    animation-name: ",";\n    animation-fill-mode: forwards;\n  "]);return jt=function(){return e},e}function Mt(){var e=Object(xt.a)(["\n    0% {\n      transform:translateX(-100%);\n    }\n    100% {\n      transform:translateX(-","%);\n    }\n  "]);return Mt=function(){return e},e}var St=function(e){var t=e.currentXP,a=e.nextXP,n=e.nextLevel,r=e.src,s=0;a>0&&(s=100-100*t/a);var l=Object(Ot.b)(Mt(),s),o=Ot.a.p(jt(),l);return i.a.createElement("div",{className:"d-flex content-next-level align-items-center mt-2 levelbar-".concat(r)},i.a.createElement("div",{className:"loader-next-level"},i.a.createElement(o,{className:"bg"})),"levelup"===r&&n&&i.a.createElement("p",{className:"next-level mb-0"},i.a.createElement("strong",null,n)),"profil"===r&&a&&i.a.createElement("p",{className:"next-xp mb-0 ml-2"},i.a.createElement("strong",null,t),"/",a))};a(285);function qt(){var e=Object(xt.a)(["\n        opacity: 1;\n      "]);return qt=function(){return e},e}function Rt(){var e=Object(xt.a)(["\n      opacity: 1;\n      animation-duration: 0.75s;\n      animation-delay: 2s;\n      animation-name: ",";\n      animation-fill-mode: forwards;\n    "]);return Rt=function(){return e},e}function Tt(){var e=Object(xt.a)(["\n  display: none;\n  opacity: 0;\n  animation-duration: 1.25s;\n  animation-delay: 0s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return Tt=function(){return e},e}function zt(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 1.25s;\n  animation-delay: 0s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return zt=function(){return e},e}function It(){var e=Object(xt.a)(["\n  opacity: 1;\n  animation-duration: 0.25s;\n  animation-delay: 2s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return It=function(){return e},e}function At(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 0.75s;\n  animation-delay: 0s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return At=function(){return e},e}function Pt(){var e=Object(xt.a)(["",""]);return Pt=function(){return e},e}function Lt(){var e=Object(xt.a)(["",""]);return Lt=function(){return e},e}var Ut=Object(Ot.b)(Lt(),Ct.fadeIn),Dt=Object(Ot.b)(Pt(),Ct.fadeOut),Wt=Ot.a.div(At(),Ut),Bt=Ot.a.div(It(),Dt),Qt=Ot.a.div(zt(),Ut),Gt=Ot.a.div(Tt(),Ut),Vt=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._collectReward=function(){n.setState({rewardCollected:!0})},n._setLevelUpChecked=function(){n.setState({rewardCollected:!1},(function(){n.props.setLevelUpChecked()}))},n.state={rewardCollected:!1},n}return Object(M.a)(a,[{key:"componentDidUpdate",value:function(){if(this.props.show){var e=document.getElementById("div_niveau");e&&document.getElementById("div_coffre")?e.addEventListener("animationend",(function(t){if("animationend"===t.type){e.style.display="none",document.getElementById("div_coffre").style.display="block";var a=document.getElementById("div_coffre_img");a.addEventListener("animationend",(function(e){"animationend"===e.type&&(a.style.display="none",document.getElementById("div_coffre_rewards").style.display="block",document.getElementById("div_btn_footer").style.display="block")}))}}),!1):document.getElementById("div_btn_footer")&&(document.getElementById("div_btn_footer").style.display="block")}}},{key:"_renderImgReward",value:function(e){var t,a;switch(e.type){case"MEDAL":return i.a.createElement("img",{src:"/images/medaille/reward_"+(null===(t=this.props.dataLevelUp)||void 0===t||null===(a=t.medaille)||void 0===a?void 0:a.image),alt:"M\xe9daille",className:"img-reward"});case"EXP":return i.a.createElement("img",{src:"/images/icone/coin_xp_brillance.png",alt:"EXP",className:"img-reward"});case"PTS":return i.a.createElement("img",{src:"/images/icone/coin_brillance.png",alt:"Points",className:"img-reward"})}}},{key:"render",value:function(){var e,t,a,n=this,r=this.props,s=r.t,l=r.tReady,o=r.dataLevelUp,c=r.currentUser,u=r.show,m=Ot.a.div(Rt(),Dt);return(null===o||void 0===o?void 0:o.rewards)||(m=Ot.a.div(qt())),i.a.createElement(wt.a,{show:u,onHide:function(){return n._setLevelUpChecked()},dialogClassName:"modal-level-up",centered:!0},i.a.createElement(wt.a.Body,null,i.a.createElement("div",{className:"LevelUpModal".concat((null===o||void 0===o?void 0:o.rewards)?" has-reward":"")},i.a.createElement("h2",{className:"color-primary text-center mb-4"},l&&s("modal.reward_levelup.rewards")),this.state.rewardCollected&&(null===o||void 0===o?void 0:o.rewards)&&(null===o||void 0===o?void 0:o.rewards.find((function(e){return"EXP"===e.type})))?i.a.createElement(Wt,null,i.a.createElement("div",{className:"content-avatar reward reward-exp mx-auto text-center"},i.a.createElement(se,{user:c}),i.a.createElement("h1",{className:"titre-reward mt-2 mb-0 color-primary-light"},"+",null===o||void 0===o||null===(e=o.rewards.find((function(e){return"EXP"===e.type})))||void 0===e?void 0:e.value," ","EXP"),i.a.createElement("p",{className:"color-primary-light mb-0"},i.a.createElement("small",null,l&&s("modal.reward_levelup.desc_exp"))),i.a.createElement(St,{currentXP:c.nb_xp,nextXP:null===o||void 0===o||null===(t=o.nextLevel)||void 0===t?void 0:t.nb_xp,nextLevel:null===o||void 0===o||null===(a=o.nextLevel)||void 0===a?void 0:a.level,src:"levelup"}))):i.a.createElement("div",null,i.a.createElement(m,{className:"LevelUpModal__Niveau",id:"div_niveau"},i.a.createElement("div",{className:"LevelUpModal__Niveau__body"},i.a.createElement("div",{className:"LevelUpModal__Niveau__body__Avatar mx-auto content-avatar"},i.a.createElement(se,{user:c,withoutName:!0})),i.a.createElement("h2",{className:"color-primary-light text-center pt-2"},l&&s("modal.reward_levelup.congrat")),i.a.createElement("h4",{className:"color-primary-light text-center"},l&&s("modal.reward_levelup.level_up")," ",null===o||void 0===o?void 0:o.level," !"))),(null===o||void 0===o?void 0:o.rewards)&&i.a.createElement(Wt,{className:"LevelUpModal__Coffre",id:"div_coffre"},i.a.createElement(Bt,{className:"LevelUpModal__Coffre__Img mx-auto text-center",id:"div_coffre_img"},i.a.createElement("img",{src:"/images/rewards/coffre_niveau.png",alt:"Coffre"})),i.a.createElement(Qt,{className:"LevelUpModal__Coffre__Rewards mt-2",id:"div_coffre_rewards"},i.a.createElement("div",{className:"d-flex flex-column flex-md-row justify-content-md-center"},null===o||void 0===o?void 0:o.rewards.map((function(e,t){var a;return i.a.createElement("div",{className:"reward reward-".concat(null===(a=e.type)||void 0===a?void 0:a.toLowerCase()," text-center mt-2"),key:"reward".concat(t)},i.a.createElement("p",{className:"mb-0 text-center"},n._renderImgReward(e)),"MEDAL"===e.type&&i.a.createElement("div",null,i.a.createElement("h3",{className:"titre-reward mt-2 mb-0 color-primary-light"},l&&s("modal.reward_levelup.medal")),i.a.createElement("p",{className:"color-primary-light"},i.a.createElement("small",null,l&&s("modal.reward_levelup.desc_medal")))),"EXP"===e.type&&i.a.createElement("div",null,i.a.createElement("h3",{className:"titre-reward mt-2 mb-0 color-primary-light"},"+",e.value," EXP"),i.a.createElement("p",{className:"color-primary-light"},i.a.createElement("small",null,l&&s("modal.reward_levelup.desc_exp")))),"PTS"===e.type&&i.a.createElement("div",null,i.a.createElement("h3",{className:"titre-reward mt-2 mb-0 color-primary-light"},"+",e.value," PTS"),i.a.createElement("p",{className:"color-primary-light"},i.a.createElement("small",null,l&&s("modal.reward_levelup.desc_pts")))))})))),i.a.createElement("h2",{className:"color-primary-light text-center pt-2"},l&&s("modal.reward_levelup.incredible")),i.a.createElement("h4",{className:"color-primary-light text-center"},l&&s("modal.reward_levelup.discoverd"),i.a.createElement("br",null),l&&s("modal.reward_levelup.chest")))))),i.a.createElement(wt.a.Footer,null,i.a.createElement(Gt,{id:"div_btn_footer"},(null===o||void 0===o?void 0:o.rewards)&&!this.state.rewardCollected?i.a.createElement(L.a,{variant:"primary",onClick:function(){return n._collectReward()}},l&&s("modal.collect_reward")):i.a.createElement(L.a,{variant:"primary",onClick:function(){return n._setLevelUpChecked()}},l&&s("modal.confirm_reward")))))}}]),a}(i.a.Component),Ft=Object(A.a)()(Object(l.b)((function(e){return{currentUser:e.user.currentUser}}))(Vt)),Xt=a(348),Kt=a(136),Jt=(a(286),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.tReady,r=t.listNewMedal,s=t.show,l=r?r.length:0,o=12;return l<4?o/=l:l>=4&&(o=3),i.a.createElement(wt.a,{show:s,onHide:function(){return e.props.setNewMedalChecked()},dialogClassName:"modal-new-medal modal-new-medal".concat(l),centered:!0},i.a.createElement(wt.a.Body,null,i.a.createElement("div",{className:"NewMedalModal"},i.a.createElement("h2",{className:"color-primary text-center mb-4"},n&&a("modal.new_medal.new_medals")),i.a.createElement(Xt.a,null,null===r||void 0===r?void 0:r.map((function(e,t){return i.a.createElement(Kt.a,{xs:12,md:o,key:e.id_medaille},i.a.createElement("p",{className:"text-center mb-0"},i.a.createElement("img",{className:"medaille",src:"/images/medaille/"+e.image,alt:"M\xe9daille "+e.nom})),i.a.createElement("h3",{className:"color-primary text-center"},e.nom),i.a.createElement("div",{className:"description text-center"},e.description))}))),i.a.createElement("p",{className:"p-sep"}),i.a.createElement("div",{className:"profil text-center color-black2"},n&&a("modal.new_medal.find_medals")))),i.a.createElement(wt.a.Footer,null,i.a.createElement(L.a,{variant:"primary",onClick:function(){return e.props.setNewMedalChecked()}},n&&a("modal.confirm_reward"))))}}]),a}(i.a.Component)),Ht=Object(A.a)()(Jt),Yt=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.tReady,n=e.isWeekend;return i.a.createElement(wt.a,{show:n,dialogClassName:"modal-weekend",centered:!0},i.a.createElement(wt.a.Body,null,i.a.createElement("div",{className:"WeekendModal"},i.a.createElement("h2",{className:"color-primary text-center mb-4"},a&&t("player.modal_weekend.title")),i.a.createElement("div",{className:"profil text-center color-black2"},a&&t("player.modal_weekend.desc")),i.a.createElement("p",{className:"p-sep"}),i.a.createElement("div",{className:"profil text-center color-black2"},a&&t("player.modal_weekend.desc_lundi")))))}}]),a}(i.a.Component),Zt=Object(A.a)()(Yt),$t=(a(287),a(288),Object(A.a)()((function(e){var t=e.t,a=e.tReady,n=e.className,r=e.bonus,s=e.bonusDesc;return i.a.createElement("div",{className:"BonusEXP ".concat(n||"")},i.a.createElement("div",{className:"BonusEXP__container col-12 row py-2 m-0"},i.a.createElement("div",{className:"BonusEXP__container__img col-4"},i.a.createElement("img",{src:"/images/rewards/exp-bonus.png",className:"BonusEXP__container__img__first",alt:"bonus"}),i.a.createElement("img",{src:"/images/rewards/exp-bonus.png",className:"BonusEXP__container__img__second",alt:"bonus"})),i.a.createElement("div",{className:"BonusEXP__container__content col-8"},i.a.createElement("div",{className:"BonusEXP__container__content__bonus"},i.a.createElement("span",{className:"val"},"+",r),a&&t("player.cockpit.bonus.".concat(s))),i.a.createElement("div",{className:"BonusEXP__container__content__text"},a&&t("player.cockpit.exp_daily_bonus")))))}))),ea=(a(289),Object(A.a)()((function(e){var t=e.t,a=e.tReady,n=e.className,r=e.timerEnd,s=e.campaignName;return i.a.createElement("div",{className:"CampaignFollow ".concat(n||"")},i.a.createElement("div",{className:"CampaignFollow__container col-12 p-4"},i.a.createElement("div",{className:"CampaignFollow__container__title"},a&&t("player.cockpit.mobile_mission_title"),"\xab ",s," \xbb"," ",a&&t("player.cockpit.mobile_mission_pending")),i.a.createElement("div",{className:"CampaignFollow__container__text pt-4"},a&&t("player.cockpit.explanation")),i.a.createElement("div",{className:"CampaignFollow__container__timer pt-5"},i.a.createElement("span",{className:"LaunchFollowWidget__container__timeleft__label"},a&&t("admin.campaign_time_left")," ")," ",i.a.createElement(fe,{timeTillDate:r,timeFormat:"MM-DD-YYYY h:mm:ss",className:"LaunchFollowWidget__container__timeleft__timer"}),i.a.createElement("div",{className:"CampaignFollow__container__timer__icon col-7"},i.a.createElement("img",{src:"/images/icone/chest-coins.png",alt:"chest-coin"})))))}))),ta=(a(290),Object(A.a)()((function(e){var t=e.t,a=e.tReady,n=e.className;return i.a.createElement("div",{className:"GameLauncher ".concat(n||"")},i.a.createElement("div",{className:"GameLauncher__container col-12 p-4"},i.a.createElement("div",{className:"GameLauncher__container__icon"},i.a.createElement("img",{src:"/images/icone/fusee.png",alt:"rocket"})),i.a.createElement("div",{className:"GameLauncher__container__title"},a&&t("player.cockpit.start_game")),i.a.createElement("div",{className:"GameLauncher__container__desc"},a&&t("player.cockpit.start_game_desc"))))}))),aa=(a(291),Object(A.a)()((function(e){var t=e.t,a=e.tReady,n=e.className,r=e.iconPath,s=e.i18nTitleKey,l=e.i18nDescriptionKey;return i.a.createElement("div",{className:"Links ".concat(n||"")},i.a.createElement("div",{className:"Links__container col-12 p-2"},i.a.createElement("div",{className:"Links__container__icone"},i.a.createElement("img",{src:r,alt:"icone"})),i.a.createElement("div",{className:"Links__container__text"},i.a.createElement("div",{className:"Links__container__text__title"},a&&t(s)),i.a.createElement("div",{className:"Links__container__text__descrption"},a&&t(l)))))}))),na=(a(292),Object(A.a)()((function(e){var t=e.locked,a=e.day,n=e.iconPath,r=e.bonusValue,s=e.description,l=e.className,o=e.t,c=e.tReady,u=e.current,m="";return m=t?o("player.cockpit.bonus.obtained"):u?o("player.cockpit.bonus.today"):o("player.cockpit.bonus.day")+" "+a,i.a.createElement("div",{className:"BonusCard ".concat(l,"  ").concat(t?"BonusCard__locked":""," ").concat(u?"BonusCard__current":"")},i.a.createElement("div",{className:"BonusCard__container"},i.a.createElement("div",{className:"BonusCard__container__body"},i.a.createElement("div",{className:"BonusCard__container__body__icon"},i.a.createElement("img",{src:n,alt:"icon"})),i.a.createElement("div",{className:"BonusCard__container__body__value"},i.a.createElement("p",{className:"BonusCard__container__body__value__value"},"+ ",r),i.a.createElement("p",{className:"BonusCard__container__body__value__text"}," ",c&&o(s)))),i.a.createElement("div",{className:"BonusCard__container__footer"},m)))}))),ia=(a(293),Object(A.a)()((function(e){var t=e.t,a=e.tReady,n=e.bonus;return i.a.createElement("div",{className:"RewardModal"},i.a.createElement("div",{className:"RewardModal__title"},i.a.createElement("div",{className:"RewardModal__title__icon"},i.a.createElement("div",{className:"RewardModal__title__icon__container"},i.a.createElement("img",{src:"/images/joyaux/module_manager.png",alt:"joyaux"})),i.a.createElement("div",{className:"RewardModal__title__icon__container"},i.a.createElement("img",{src:"/images/joyaux/module_manager.png",alt:"joyaux"})),i.a.createElement("div",{className:"RewardModal__title__icon__container"},i.a.createElement("img",{src:"/images/joyaux/module_manager.png",alt:"joyaux"}))),i.a.createElement("div",{className:"RewardModal__title__title"},a&&t("player.cockpit.bonus.title")),i.a.createElement("div",{className:"RewardModal__title__description"},a&&t("player.cockpit.bonus.desc"))),i.a.createElement("div",{className:"RewardModal__body"},n.map((function(e,t){return i.a.createElement(na,{className:"col-2 p-0",key:"bonus-".concat(t),day:e.day,bonusValue:e.value,iconPath:e.iconPath,locked:e.done,current:e.current,description:e.text})}))))}))),ra=(a(294),Object(A.a)()((function(e){var t=e.locked,a=e.day,n=e.iconPath,r=e.bonusValue,s=e.description,l=e.className,o=e.t,c=e.tReady,u=e.current,m="";return m=t?o("player.cockpit.bonus.obtained"):u?o("player.cockpit.bonus.today"):o("player.cockpit.bonus.day")+" "+a,i.a.createElement("div",{className:"BonusCardMobile ".concat(l,"  ").concat(t?"BonusCardMobile__locked":""," ").concat(u?"BonusCardMobile__current":"")},i.a.createElement("div",{className:"BonusCardMobile__container col-12"},i.a.createElement("div",{className:"BonusCardMobile__container__day col-3"},m),i.a.createElement("div",{className:"BonusCardMobile__container__icon col-4"},i.a.createElement("img",{src:n,alt:"icon"})),i.a.createElement("div",{className:"BonusCardMobile__container__value col-5"},i.a.createElement("p",{className:"BonusCardMobile__container__value__value"},"+ ",r),i.a.createElement("p",{className:"BonusCardMobile__container__value__text"}," ",c&&o(s)))))}))),sa=(a(295),Object(A.a)()((function(e){var t=e.t,a=e.tReady,n=e.bonus,r=e.currentBonus;return i.a.createElement("div",{className:"RewardModalMobile"},i.a.createElement("div",{className:"RewardModalMobile__title"},i.a.createElement("div",{className:"RewardModalMobile__title__icon"},i.a.createElement("div",{className:"RewardModalMobile__title__icon__container"},i.a.createElement("img",{src:"/images/joyaux/module_manager.png",alt:"joyaux"})),i.a.createElement("div",{className:"RewardModalMobile__title__icon__container"},i.a.createElement("img",{src:"/images/joyaux/module_manager.png",alt:"joyaux"})),i.a.createElement("div",{className:"RewardModalMobile__title__icon__container"},i.a.createElement("img",{src:"/images/joyaux/module_manager.png",alt:"joyaux"}))),i.a.createElement("div",{className:"RewardModalMobile__title__title"},a&&t("player.cockpit.bonus.mobile_title")),i.a.createElement("div",{className:"RewardModalMobile__title__subtitle"},a&&t("player.cockpit.bonus.mobile_desc")," ",i.a.createElement("strong",null,a&&t("player.cockpit.bonus.mobile_day")),":"),i.a.createElement("div",{className:"RewardModalMobile__currentbonus col-12"},i.a.createElement($t,{className:"col-12 mt-4",bonus:r.value,bonusDesc:"".concat(r.type.toLowerCase(),"_mobile")})),i.a.createElement("div",{className:"RewardModalMobile__separator"}),i.a.createElement("div",{className:"RewardModalMobile__bonus"},i.a.createElement("div",{className:"RewardModalMobile__bonus__title"},a&&t("player.cockpit.bonus.mobile_next_bonus"))),i.a.createElement("div",{className:"RewardModalMobile__body col-12"},n.map((function(e,t){return i.a.createElement(ra,{className:"col-12 p-0 mt-2 mb-2",key:"bonus-".concat(t),day:e.day,bonusValue:e.value,iconPath:e.iconPath,locked:e.done,current:e.current,description:e.text})})))))}))),la=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={campaign:{name:"",date_end:""},currentBonus:{day:null,type:null,value:null},allRewards:[],showModal:!1,loading:!0,hasNewDailyReward:!1},e._setShowModal=function(t){e.setState({showModal:t},(function(){!t&&e.state.hasNewDailyReward&&yt.checkLevelUp().then((function(t){t&&t.hasLevelUp&&yt.getUser(v.language,"current").then((function(a){var n={type:"SET_CURRENT_USER",value:a};e.props.dispatch(n);var i={type:"LEVEL_UP",value:t};e.props.dispatch(i),e.setState({hasNewDailyReward:!1})}))}))}))},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ie.a)(ne.a.mark((function e(){var t,a,n,i,r,s,l,o,c=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt.runChecks();case 3:return s=e.sent,e.next=6,yt.getCurrentReward();case 6:l=e.sent,o=[],l.before.forEach((function(e){e.done=!0,e.current=!1,"PTS"===e.type?(e.iconPath="/images/icone/pts-bonus.png",e.text="player.cockpit.bonus.pts"):"EXP"===e.type?(e.iconPath="/images/icone/exp-bonus.png",e.text="player.cockpit.bonus.exp"):(e.iconPath="/images/medaille/"+e.img,e.text="player.cockpit.bonus.medal",e.value=1),o.push(e)})),l.current&&("PTS"===l.current.type?(l.current.iconPath="/images/icone/pts-bonus.png",l.current.text="player.cockpit.bonus.pts"):"EXP"===l.current.type?(l.current.iconPath="/images/icone/exp-bonus.png",l.current.text="player.cockpit.bonus.exp"):(l.current.iconPath="/images/medaille/"+l.current.img,l.current.value=1,l.current.text="player.cockpit.bonus.medal"),l.current.current=!0,l.current.done=!1,o.push(l.current)),l.after&&l.after.forEach((function(e){e.done=!1,e.current=!1,"PTS"===e.type?(e.iconPath="/images/icone/pts-bonus.png",e.text="player.cockpit.bonus.pts"):"EXP"===e.type?(e.iconPath="/images/icone/exp-bonus.png",e.text="player.cockpit.bonus.exp"):(e.iconPath="/images/medaille/"+e.img,e.value=1,e.text="player.cockpit.bonus.medal"),o.push(e)})),this.setState({campaign:{has_campaign:!!this.props.currentCampaign,name:null===(t=this.props.currentCampaign)||void 0===t?void 0:t.mission_name,date_end:null===(a=this.props.currentCampaign)||void 0===a?void 0:a.mission_end.replace("T"," ")},currentBonus:{day:null===(n=l.current)||void 0===n?void 0:n.day,type:null===(i=l.current)||void 0===i?void 0:i.type,value:null===(r=l.current)||void 0===r?void 0:r.value},allRewards:o,loading:!1,hasNewDailyReward:s.hasNewDailyReward},(function(){c.state.hasNewDailyReward&&c._setShowModal(!0)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.tReady,r=t.isMobile,s=this.state,l=s.loading,o=s.campaign,u=s.currentBonus;return l?i.a.createElement(i.a.Fragment,null," Loading ... "):r?i.a.createElement("div",{className:"Cockpit pb-4"},i.a.createElement("h1",{className:"color-primary Cockpit__title mb-4 col-12"},n&&a("player.cockpit.title")),i.a.createElement("div",{onClick:function(){return e._setShowModal(!0)},className:"mt-1"},i.a.createElement($t,{className:"col-12 mt-5",bonus:this.state.currentBonus.value,bonusDesc:"".concat(this.state.currentBonus.type.toLowerCase(),"_mobile")})),i.a.createElement(ea,{className:"col-12 mt-4",timerEnd:o.date_end,campaignName:o.name}),i.a.createElement(c.b,{to:"/Jouer",className:"no-hover"},i.a.createElement(ta,{className:"col-12 mt-5"})),i.a.createElement(c.b,{to:"/Classement",className:"no-hover"},i.a.createElement(aa,{className:"col-12 mt-4 rotate-cup",iconPath:"/images/icone/cup.png",i18nTitleKey:"player.cockpit.ranking_title",i18nDescriptionKey:"player.cockpit.ranking_desc"})),i.a.createElement(c.b,{to:"/Profil",className:"no-hover"},i.a.createElement(aa,{className:"col-12 mt-4 profil",iconPath:"/images/icone/monde.png",i18nTitleKey:"player.cockpit.profile_title",i18nDescriptionKey:"player.cockpit.profile_desc"})),i.a.createElement(c.b,{to:"/Regles",className:"no-hover"},i.a.createElement(aa,{className:"col-12 mt-4 fixheight-mobile regle",iconPath:"/images/icone/bouclier.png",i18nTitleKey:"player.cockpit.rules_title",i18nDescriptionKey:"player.cockpit.rules_desc"})),i.a.createElement(wt.a,{show:this.state.showModal,onHide:function(){return e._setShowModal(!1)},dialogClassName:"modal-mobile"},i.a.createElement(wt.a.Body,null,i.a.createElement(sa,{bonus:this.state.allRewards,currentBonus:this.state.currentBonus})),i.a.createElement(wt.a.Footer,null,i.a.createElement(L.a,{variant:"warning",className:"mobile-button",onClick:function(){return e._setShowModal(!1)}},n&&a("modal.confirm_reward"))))):i.a.createElement("div",{className:"Cockpit mt-4"},i.a.createElement("h1",{className:"color-primary"},n&&a("player.cockpit.title")),i.a.createElement(Xt.a,null,i.a.createElement("div",{className:"col-12"},i.a.createElement(ge,{className:"py-3 px-4",campaign:o,translationDescKey:"player.cockpit.campaign_desc"}))),i.a.createElement(Xt.a,{className:"mt-4"},i.a.createElement("div",{className:"col-12 d-flex align-items-center justify-content-between"},i.a.createElement(c.b,{to:"/Jouer",className:"no-hover p-0"},i.a.createElement("div",{className:"Cockpit__game h-100"},i.a.createElement("div",{className:"Cockpit__game__container py-4 px-4"},i.a.createElement("h1",{className:"Cockpit__game__container__name mt-1"},n&&a("player.cockpit.start_game")),i.a.createElement("div",{className:"Cockpit__game__container__desc mb-1"},n&&a("player.cockpit.start_game_desc"))))),i.a.createElement("div",{className:"Cockpit__exp h-100",onClick:function(){return e._setShowModal(!0)}},i.a.createElement("div",{className:"Cockpit__exp__container py-3 px-4"},i.a.createElement("div",{className:"Cockpit__exp__container__icon"},i.a.createElement("img",{src:"/images/icone/exp-bonus-lueur.png",alt:"exp-bonus"})),i.a.createElement("div",{className:"Cockpit__exp__container__text"},i.a.createElement("div",{className:"Cockpit__exp__container__text__title"},i.a.createElement("span",{className:"val"},"+",u.value," "),n&&a("player.cockpit.bonus_desc_".concat(u.type))),i.a.createElement("div",{className:"Cockpit__exp__container__text__desc mt-2"},n&&a("player.cockpit.exp_daily_bonus"))))))),i.a.createElement(Xt.a,null,i.a.createElement("div",{className:"col-12 p-0 Cockpit__links mt-4"},i.a.createElement(c.b,{className:"no-hover col-4",to:"/Classement"},i.a.createElement("div",{className:"Cockpit__links__item col-12 py-3 px-4"},i.a.createElement("div",{className:"Cockpit__links__item__icon"},i.a.createElement("img",{alt:"Cup",src:"images/icone/cup.png"})),i.a.createElement("div",{className:"Cockpit__links__item__text"},i.a.createElement("div",{className:"Cockpit__links__item__text__content"},n&&a("player.cockpit.ranking_title")),i.a.createElement("div",{className:"Cockpit__links__item__text__desc"},n&&a("player.cockpit.ranking_desc"))))),i.a.createElement(c.b,{className:"no-hover col-4",to:"/Profil"},i.a.createElement("div",{className:"Cockpit__links__item col-12 py-3 px-4"},i.a.createElement("div",{className:"Cockpit__links__item__icon"},i.a.createElement("img",{alt:"Cup",src:"images/menu/profil.png"})),i.a.createElement("div",{className:"Cockpit__links__item__text"},i.a.createElement("div",{className:"Cockpit__links__item__text__content"},n&&a("player.cockpit.profile_title")),i.a.createElement("div",{className:"Cockpit__links__item__text__desc"},n&&a("player.cockpit.profile_desc"))))),i.a.createElement(c.b,{className:"no-hover col-4",to:"/Regles"},i.a.createElement("div",{className:"Cockpit__links__item col-12 py-3 px-4"},i.a.createElement("div",{className:"Cockpit__links__item__icon bouclier"},i.a.createElement("img",{alt:"Cup",src:"images/icone/bouclier.png"})),i.a.createElement("div",{className:"Cockpit__links__item__text"},i.a.createElement("div",{className:"Cockpit__links__item__text__content"},n&&a("player.cockpit.rules_title")),i.a.createElement("div",{className:"Cockpit__links__item__text__desc"},n&&a("player.cockpit.rules_desc"))))))),i.a.createElement(wt.a,{show:this.state.showModal,onHide:function(){return e._setShowModal(!1)},dialogClassName:"modal-cockpit",centered:!0},i.a.createElement(wt.a.Body,null,i.a.createElement(ia,{bonus:this.state.allRewards,currentBonus:this.state.currentBonus})),i.a.createElement(wt.a.Footer,null,i.a.createElement(L.a,{variant:"primary",onClick:function(){return e._setShowModal(!1)}},n&&a("modal.confirm_reward")))))}}]),a}(n.Component),oa=Object(A.a)()(Object(l.b)((function(e){return{currentUser:e.user.currentUser,currentCampaign:e.user.currentCampaign}}))(la)),ca=a(349),ua=a(357),ma=(a(296),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._renderTooltip=function(e){return i.a.createElement(ca.a,{id:"medaille-tooltip"},i.a.createElement("p",{className:"h4"},e.nom),e.description)},e._onClickMedaille=function(t){e.props.canSelect&&e.props.onSelect(e.props.selected?null:t)},e}return Object(M.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.medaille,n=t.canSelect,r=t.selected;return i.a.createElement(ua.a,{placement:"top",delay:{show:250,hide:400},overlay:this._renderTooltip(a)},a.unlock?i.a.createElement("img",{className:"medaille ".concat(n?"pointer":""," ").concat(r?"selected":""),onClick:function(){return e._onClickMedaille(a)},src:"/images/medaille/"+a.image,alt:"M\xe9daille "+a.nom}):i.a.createElement("img",{className:"medaille lock",src:"/images/medaille/lock.png",alt:"M\xe9daille "+a.nom}))}}]),a}(n.Component)),da=(a(297),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._loadDataProfil=function(){yt.checkNewMedal(v.language).then((function(e){if(e&&e.length>0){var t={type:"NEW_MEDAL",value:e};n.props.dispatch(t)}Object(T.a)([yt.getMedaille(v.language),Se.getClassement(v.language,"xp",{user:1}),Se.getClassement(v.language,"point",{user:1}),yt.checkLevelUp()]).toPromise().then((function(e){var t=e[0].results?e[0].results:[];n.setState({listMedaille:t,classementXP:e[1]?parseInt(e[1].rang):0,classementPoint:e[2]?parseInt(e[2].rang):0,dataLevelUp:e[3]})}))}))},n._setShowModalProfil=function(e){n.setState({showModalProfil:e})},n._selectMedailleAvatar=function(e){n.setState({hasUpdatedMedailleAvatar:!0,selectedMedailleAvatar:e})},n._saveMedailleAvatar=function(){var e;yt.setMedailleAvatar(null===(e=n.state.selectedMedailleAvatar)||void 0===e?void 0:e.id_medaille).then((function(e){n._loadCurrentUser(),n._setShowModalProfil(!1)}))},n._loadCurrentUser=function(){yt.getUser(v.language,"current").then((function(e){var t={type:"SET_CURRENT_USER",value:e};n.props.dispatch(t)}))},n._getEndNumber=function(e){if(0==e)return"";if("fr"===v.language)return 1===e?"er":"\xe8me";if(11===e||12===e||13===e)return"th";var t=e.toString();switch(t[t.length-1]){case"1":return"st";case"2":return"nd";case"3":return"rd";default:return"th"}},n.state={listMedaille:[],showModalProfil:!1},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this._loadCurrentUser(),this._loadDataProfil()}},{key:"render",value:function(){var e,t,a,n,r,s,l,o,c,u,m,d,p,v,_,h,f,g,E=this,b=this.props,y=b.t,N=b.tReady;return i.a.createElement("div",null,i.a.createElement("h1",{className:"color-primary d-none d-md-block"},N&&y("profile.game_profile")),i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/icone/planete.png",alt:"Ico Profil",className:"ico-titre"}),N&&y("profile.game_profile")),i.a.createElement(Xt.a,null,i.a.createElement(Kt.a,{xs:12,md:6,className:"main-col1"},i.a.createElement(ee.a,{fluid:!0},i.a.createElement(Xt.a,null,i.a.createElement(Kt.a,{className:"main-encart"},i.a.createElement("h2",{className:"color-primary-light mb-2"},N&&y("profile.level")),i.a.createElement("div",{className:"d-flex"},i.a.createElement("div",{className:"flex-1 pl-0 pl-md-3"},(null===(e=this.props.currentUser)||void 0===e?void 0:e.image_avatar)?i.a.createElement("img",{src:""+this.props.currentUser.image_avatar,alt:"Avatar",className:"avatar mw-100"}):i.a.createElement("span",{className:"d-none"})),i.a.createElement("div",{className:"flex-1 flex-grow-3 pl-2 pl-md-3"},i.a.createElement("p",{className:"h1 mb-2 pt-0 color-primary"},N&&y("utils.level")," ",null===(t=this.props.currentUser)||void 0===t?void 0:t.niveau),i.a.createElement("div",{className:"total_xp"},N&&y("profile.total_exp")," ",i.a.createElement("strong",{className:"color-primary"},null===(a=this.props.currentUser)||void 0===a?void 0:a.nb_xp)),i.a.createElement("div",{className:"mb-3"},i.a.createElement(St,{currentXP:null===(n=this.props.currentUser)||void 0===n?void 0:n.nb_xp,nextXP:null===(r=this.state.dataLevelUp)||void 0===r?void 0:r.nb_xp,nextLevel:null===(s=this.state.dataLevelUp)||void 0===s?void 0:s.level,src:"profil"})))),i.a.createElement("p",{className:"text-right"},i.a.createElement(L.a,{variant:"primary",onClick:function(){return E._setShowModalProfil(!0)}},N&&y("profile.custom_avatar"))))),i.a.createElement(Xt.a,null,i.a.createElement(Kt.a,{className:"main-encart encart-stats mb-md-0"},i.a.createElement("h2",{className:"color-primary-light mb-3"},N&&y("profile.exploration_stat")),i.a.createElement(Xt.a,null,i.a.createElement(Kt.a,null,i.a.createElement("p",{className:"h1 mb-0 pt-0 color-primary"},this.state.classementXP?this.state.classementXP:0,i.a.createElement("sup",null,this.state.classementXP&&this._getEndNumber(this.state.classementXP))),i.a.createElement("p",null,N&&y("profile.exp_rank"))),i.a.createElement(Kt.a,null,i.a.createElement("p",{className:"h1 mb-0 pt-0 color-primary"},this.state.classementPoint?this.state.classementPoint:0,i.a.createElement("sup",null,this.state.classementPoint&&this._getEndNumber(this.state.classementPoint))),i.a.createElement("p",null,N&&y("profile.point_rank"))),i.a.createElement(Kt.a,null,i.a.createElement("p",{className:"h1 mb-0 pt-0 color-primary"},(null===(l=this.props.currentUser)||void 0===l?void 0:l.nb_reponse)>0?i.a.createElement("span",null,(100*(null===(o=this.props.currentUser)||void 0===o?void 0:o.nb_reponse_ok)/(null===(c=this.props.currentUser)||void 0===c?void 0:c.nb_reponse)).toFixed(2)):i.a.createElement("span",null,"0"),i.a.createElement("sup",null,"%")),i.a.createElement("p",null,N&&y("utils.good_answers")))),i.a.createElement(Xt.a,null,i.a.createElement(Kt.a,{className:"col-6 col-md-4"},i.a.createElement("p",{className:"h1 mb-0 pt-0 color-primary"},null===(u=this.props.currentUser)||void 0===u?void 0:u.nb_questionnaire_complete),i.a.createElement("p",null,N&&y("utils.questioner_complete"))),i.a.createElement(Kt.a,{className:"col-6 col-md-4"},i.a.createElement("p",{className:"h1 mb-0 pt-0 color-primary"},null===(m=this.props.currentUser)||void 0===m?void 0:m.nb_reponse_consecutive_top),i.a.createElement("p",null,N&&y("profile.consec_good_answer"))),i.a.createElement(Kt.a,null)))))),i.a.createElement(Kt.a,{xs:12,md:6},i.a.createElement("div",{className:"main-encart mb-md-0 main-col2"},i.a.createElement("h2",{className:"color-primary-light mb-2"},N&&y("profile.medal_collection")),i.a.createElement("div",{className:"d-none d-md-block"},N&&y("profile.3_fav_medal")),i.a.createElement("p",{className:"color-primary mt-3 mb-1"},N&&y("profile.common_medal")," ",null===(d=this.state.listMedaille)||void 0===d?void 0:d.filter((function(e){return!e.legendaire})).length),i.a.createElement("div",null,null===(p=this.state.listMedaille)||void 0===p?void 0:p.filter((function(e){return!e.legendaire})).map((function(e){return i.a.createElement(ma,{medaille:e,key:e.id_medaille})}))),i.a.createElement("p",{className:"color-primary mt-3 mb-1"},N&&y("profile.legendary_medal")," ",null===(v=this.state.listMedaille)||void 0===v?void 0:v.filter((function(e){return e.legendaire})).length),i.a.createElement("div",null,null===(_=this.state.listMedaille)||void 0===_?void 0:_.filter((function(e){return e.legendaire})).map((function(e){return i.a.createElement(ma,{medaille:e,key:e.id_medaille})})))))),i.a.createElement(wt.a,{show:this.state.showModalProfil,onHide:function(){return E._setShowModalProfil(!1)},dialogClassName:"modal-profil",centered:!0},i.a.createElement(wt.a.Body,null,i.a.createElement("h2",{className:"color-primary-light"},N&&y("profile.custom_your_avatar")),i.a.createElement("div",{className:"container-avatar-user"},i.a.createElement(se,{user:this.props.currentUser})),i.a.createElement("p",{className:"text-center"},N&&y("profile.medal_replacement")),null===(h=this.state.listMedaille)||void 0===h?void 0:h.map((function(e){var t,a;return i.a.createElement(ma,{key:e.id_medaille,medaille:e,canSelect:!0,onSelect:E._selectMedailleAvatar,selected:E.state.hasUpdatedMedailleAvatar?(null===(t=E.state.selectedMedailleAvatar)||void 0===t?void 0:t.id_medaille)===e.id_medaille:(null===(a=E.props.currentUser)||void 0===a?void 0:a.id_medaille_avatar)===e.id_medaille})})),i.a.createElement("img",{className:"medaille avatar pointer ".concat(!this.state.selectedMedailleAvatar&&!(null===(f=this.props.currentUser)||void 0===f?void 0:f.id_medaille_avatar)||this.state.hasUpdatedMedailleAvatar&&!this.state.selectedMedailleAvatar?"selected":""),onClick:function(){return E._selectMedailleAvatar(null)},src:""+(null===(g=this.props.currentUser)||void 0===g?void 0:g.image_avatar_origine),alt:"Avatar"})),i.a.createElement(wt.a.Footer,null,i.a.createElement(L.a,{variant:"secondary",onClick:function(){return E._setShowModalProfil(!1)}},N&&y("utils.cancel")),i.a.createElement(L.a,{variant:"primary",disabled:!this.state.hasUpdatedMedailleAvatar,onClick:function(){return E._saveMedailleAvatar()}},N&&y("profile.valid_modif")))))}}]),a}(n.Component)),pa=Object(A.a)()(Object(l.b)((function(e){return{currentUser:e.user.currentUser}}))(da));a(298);function va(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 0.25s;\n  animation-delay: 0.25s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return va=function(){return e},e}function _a(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 1s;\n  animation-delay: 2.5s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return _a=function(){return e},e}function ha(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 1s;\n  animation-delay: 2s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return ha=function(){return e},e}function fa(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 1s;\n  animation-delay: 1.5s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return fa=function(){return e},e}function ga(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 1s;\n  animation-delay: 1s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return ga=function(){return e},e}function Ea(){var e=Object(xt.a)(["",""]);return Ea=function(){return e},e}function ba(){var e=Object(xt.a)(["",""]);return ba=function(){return e},e}var ya=Object(Ot.b)(ba(),Ct.fadeIn),Na=Object(Ot.b)(Ea(),Ct.fadeInUpBig),ka=Ot.a.div(ga(),ya),xa=Ot.a.div(fa(),ya),wa=Ot.a.div(ha(),ya),Oa=Ot.a.div(_a(),ya),Ca=Ot.a.div(va(),Na),ja=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.tReady;return i.a.createElement("div",null,i.a.createElement("h1",{className:"color-primary d-none d-md-block"},a&&t("rules.exploration_notes")),i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/icone/bouclier.png",alt:"Ico Regles",className:"ico-titre"}),a&&t("rules.game_rules")),i.a.createElement("div",{className:"main-encart nobg-mobile main-regle"},i.a.createElement("h2",{className:"d-none d-md-block color-primary-light mb-2"},a&&t("rules.subtitle")),i.a.createElement("div",{className:"d-flex steps mt-3 mt-md-5"},i.a.createElement(ka,{className:"step step1 text-center d-flex flex-column align-items-center"},i.a.createElement("img",{src:"/images/regle/step1_desktop.png",alt:"Ico Jouer",className:"d-none d-md-inline"}),i.a.createElement("img",{src:"/images/regle/step1_mobile.png",alt:"Ico gain",className:"d-inline d-md-none"}),i.a.createElement("div",{className:"step-content"},i.a.createElement("p",{className:"num-step mx-md-auto mb-0"},"1"),i.a.createElement("p",{className:"text-center mt-2 mb-0"},a&&t("rules.rules_1")))),i.a.createElement(xa,{className:"step step2 text-center d-flex flex-column align-items-center mx-md-4"},i.a.createElement("img",{src:"/images/regle/step2_desktop.png",alt:"Ico points",className:"d-none d-md-inline"}),i.a.createElement("img",{src:"/images/regle/step2_mobile.png",alt:"Ico gain",className:"d-inline d-md-none"}),i.a.createElement("div",{className:"step-content"},i.a.createElement("p",{className:"num-step mx-md-auto mb-0"},"2"),i.a.createElement("p",{className:"text-center mt-2 mb-0"},a&&t("rules.rules_2")))),i.a.createElement(wa,{className:"step step3 text-center d-flex flex-column align-items-center mx-md-4"},i.a.createElement("img",{src:"/images/regle/step3_desktop.png",alt:"Ico galaxie",className:"d-none d-md-inline"}),i.a.createElement("img",{src:"/images/regle/step3_mobile.png",alt:"Ico gain",className:"d-inline d-md-none"}),i.a.createElement("div",{className:"step-content"},i.a.createElement("p",{className:"num-step mx-md-auto mb-0"},"3"),i.a.createElement("p",{className:"text-center mt-2 mb-0"},a&&t("rules.rules_3")))),i.a.createElement(Oa,{className:"step step4 text-center"},i.a.createElement("div",{className:"step-content"},i.a.createElement("p",{className:"num-step mx-auto mb-0"},"4"),i.a.createElement("img",{src:"/images/regle/step4_mobile.png",alt:"Ico gain",className:"d-inline d-md-none"}),i.a.createElement("p",{className:"text-center mt-2 mb-0"},a&&t("rules.rules_4"))))),i.a.createElement(Ca,null,i.a.createElement("p",{className:"btn-download mt-2 pb-md-2"},i.a.createElement(L.a,{as:"a",variant:"primary",className:"d-inline-block",href:"en"===v.language?"".concat("","/download/Teams-Odyssey _Explorer_Guide.pdf"):"".concat("","/download/Odyssee-Teams_Reglement.pdf"),target:"_blank"},a&&t("rules.download_rules"))))))}}]),a}(n.Component),Ma=Object(A.a)()(ja),Sa=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/question",e}return Object(M.a)(a,[{key:"getModule",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/modules",{language:e,id:t})}},{key:"getNiveau",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/niveaux",{language:e,id:t})}},{key:"getHistoQuestionnaireComplete",value:function(){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/histo-questionnaire-complete")}},{key:"getQuizz",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/quizz",{language:e,module:t.id_module,niveau:t.id_niveau})}},{key:"setReponseQuizz",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchPOST",this).call(this,this.resource+"/quizz/set-reponse",e)}},{key:"getRecapQuizz",value:function(e,t){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/recap-quizz",{language:e,module:t.id_module,niveau:t.id_niveau})}}]),a}(H));a(299);function qa(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 0.5s;\n  animation-delay: 0.25s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return qa=function(){return e},e}function Ra(){var e=Object(xt.a)(["",""]);return Ra=function(){return e},e}var Ta=Object(Ot.b)(Ra(),Ct.fadeInUpBig),za=Ot.a.div(qa(),Ta),Ia=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._loadDataLancementJeu=function(){Object(T.a)([Sa.getModule(v.language),Sa.getNiveau(v.language),Sa.getHistoQuestionnaireComplete()]).toPromise().then((function(e){n.setState({listModule:e[0].results?e[0].results:[],listNiveau:e[1].results?e[1].results:[],listHistoQuestionnaireComplete:e[2].results?e[2].results:[]})}))},n._onSelect=function(e,t){n.props.onSelect(e,t)},n.state={listNiveau:[],listModule:[]},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){switch(this.props.currentCampaign.ordre){case 1:this.props.currentCampaign.introText="first_mission_intro";break;case 2:this.props.currentCampaign.introText="second_mission_intro";break;case 3:this.props.currentCampaign.introText="third_mission_intro";break;case 4:this.props.currentCampaign.introText="fourth_mission_intro";break;default:this.props.currentCampaign.introText="first_mission_intro"}this._loadDataLancementJeu()}},{key:"render",value:function(){var e,t,a,n=this,r=this.props,s=r.t,l=r.tReady;return i.a.createElement("div",{className:"main-choix-module mb-0"},i.a.createElement("h2",{className:"d-none d-md-block color-primary-light mb-2"},"\xab ",null===(e=this.props.currentCampaign)||void 0===e?void 0:e.mission_name," \xbb"," : ",l&&s("choix_module.title1")),i.a.createElement("h2",{className:"d-block d-md-none mb-2"},l&&s("choix_module.title2")," \xab ",null===(t=this.props.currentCampaign)||void 0===t?void 0:t.mission_name," \xbb"),i.a.createElement("p",{className:"d-none d-md-block mb-2"},s("choix_module."+this.props.currentCampaign.introText)),i.a.createElement("h4",{className:"mt-2 mt-md-3 mb-2"},s("choix_module.subtitle")),i.a.createElement(za,null,i.a.createElement("div",{className:"d-flex flex-column flex-md-row mt-4"},null===(a=this.state.listModule)||void 0===a?void 0:a.map((function(e){var t;return i.a.createElement("div",{key:e.id_module,className:"mx-1 module module".concat(e.id_module)},i.a.createElement("div",{className:"content d-flex flex-column justify-content-between h-100 p-2"},i.a.createElement("p",{className:"text-center mb-0"},i.a.createElement("img",{src:"/images/question/module/"+e.image,alt:"Illustration module ".concat(e.nom),className:"illustration-module"})),i.a.createElement("h4",{className:"d-flex align-items-center justify-content-center text-center color-primary-light mb-2"},e.nom),i.a.createElement("div",{className:"d-flex flex-column align-items-end px-4 px-md-0"},null===(t=n.state.listNiveau)||void 0===t?void 0:t.map((function(t){return n.state.listHistoQuestionnaireComplete.filter((function(a){return a.id_module===e.id_module&&a.id_niveau===t.id_niveau})).length>0?i.a.createElement("div",{className:"d-flex w-100 mt-2 ",key:"done"+t.id_niveau},i.a.createElement(L.a,{variant:"dark",className:"w-100 mr-2 niveau niveau".concat(t.id_niveau)},l&&s("choix_module.end")),i.a.createElement(L.a,{variant:"dark",className:"niveau px-2 niveau".concat(t.id_niveau),href:"#/Jouer/RecapQuizz/".concat(e.id_module,"/").concat(t.id_niveau)},i.a.createElement(Le.d,null))):i.a.createElement("div",{className:"d-flex w-100 mt-2 ",key:"todo"+t.id_niveau},i.a.createElement(L.a,{variant:"primary",className:"w-100 bleu niveau niveau".concat(t.id_niveau),onClick:function(){return n._onSelect(e,t)}},l&&s("utils.level")," ",t.nom))})))))})))))}}]),a}(n.Component),Aa=Object(A.a)()(Object(l.b)((function(e){return{currentCampaign:e.user.currentCampaign}}))(Ia));a(300);function Pa(){var e=Object(xt.a)(["\n  opacity: 0;\n  animation-duration: 0.5s;\n  animation-delay: 0.25s;\n  animation-name: ",";\n  animation-fill-mode: forwards;\n"]);return Pa=function(){return e},e}function La(){var e=Object(xt.a)(["",""]);return La=function(){return e},e}var Ua=Object(Ot.b)(La(),Ct.fadeIn),Da=Ot.a.div(Pa(),Ua),Wa=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._onClick=function(){e.props.onValid()},e}return Object(M.a)(a,[{key:"render",value:function(){var e,t,a,n,r,s,l,o,c=this,u=this.props.t;return i.a.createElement(Da,null,i.a.createElement("div",{className:"d-flock d-md-none mb-3"},i.a.createElement("div",{className:"d-flex titre align-items-center"},i.a.createElement("img",{src:"/images/question/module/"+(null===(e=this.props.selectedModule)||void 0===e?void 0:e.image),alt:"Illustration module ".concat(null===(t=this.props.selectedModule)||void 0===t?void 0:t.nom)}),i.a.createElement("div",{className:"ml-2"},i.a.createElement("h2",{className:"color-white1"},null===(a=this.props.selectedModule)||void 0===a?void 0:a.nom," ",i.a.createElement("strong",{className:"color-white1"},"- ",null===(n=this.props.selectedNiveau)||void 0===n?void 0:n.nom)))),i.a.createElement("h1",{className:"text-center mt-3"},u("intro_question.title"))),i.a.createElement("div",{className:"main-intro m-0 px-4 py-4 px-md-0 pt-md-0 pb-md-2"},i.a.createElement("div",{className:"d-none d-md-flex mb-2 titre align-items-center"},i.a.createElement("img",{src:"/images/question/module/"+(null===(r=this.props.selectedModule)||void 0===r?void 0:r.image),alt:"Illustration module ".concat(null===(s=this.props.selectedModule)||void 0===s?void 0:s.nom)}),i.a.createElement("div",{className:"ml-2"},i.a.createElement("h2",{className:"color-primary-light mb-1"},null===(l=this.props.selectedModule)||void 0===l?void 0:l.nom," ",i.a.createElement("strong",{className:"color-primary"},"- ",null===(o=this.props.selectedNiveau)||void 0===o?void 0:o.nom)),i.a.createElement("p",{className:"mb-0"},u("intro_question.subtitle")))),i.a.createElement("h4",{className:"d-none d-md-block mt-md-3 mb-2"},u("intro_question.intro")),i.a.createElement("p",{className:"text-center mb-0"},i.a.createElement("img",{src:"/images/question/chronometre.png",alt:"Illustration Chronometre",className:"illustration-chronometre my-3 d-none d-md-inline"}),i.a.createElement("img",{src:"/images/question/chronometre_mobile.png",alt:"Illustration Chronometre",className:"illustration-chronometre my-3 d-inline d-md-none"})),i.a.createElement("p",{className:"text-center content mx-auto"},u("intro_question.explanation_start")," ",i.a.createElement("strong",{className:"color-primary-light"},u("intro_question.explanation_middle")),"."),i.a.createElement("p",{className:"text-center content mx-auto"},u("intro_question.explanation_end"))),i.a.createElement("p",{className:"btn-next pb-md-4"},i.a.createElement(L.a,{variant:"primary",className:"d-inline-block",onClick:function(){return c._onClick()}},u("intro_question.start_explore"))))}}]),a}(n.Component),Ba=Object(A.a)()(Wa),Qa=(a(301),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._selectModuleNiveau=function(e,t){n.setState({step:2,selectedModule:e,selectedNiveau:t})},n._start=function(){var e={type:"SET_MODULE_NIVEAU",value:{module:n.state.selectedModule,niveau:n.state.selectedNiveau}};n.props.dispatch(e),n.setState({step:3})},n.state={step:1,selectedModule:null,selectedNiveau:null},n}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.tReady;return this.props.currentOrganisation.id_semaine_encours>0?3===this.state.step?i.a.createElement(R.a,{to:"/Jouer/Quizz"}):i.a.createElement("div",{className:"main-encart nobg-mobile pb-0 mb-0"},1===this.state.step&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/icone/fusee.png",alt:"Ico Jouer",className:"ico-titre"}),a&&t("play.launch")),i.a.createElement(Aa,{onSelect:this._selectModuleNiveau})),2===this.state.step&&i.a.createElement(Ba,{onValid:this._start,selectedModule:this.state.selectedModule,selectedNiveau:this.state.selectedNiveau})):i.a.createElement("div",{className:"main-encart nobg-mobile"},i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/icone/fusee.png",alt:"Ico Jouer",className:"ico-titre"}),a&&t("play.no_mission")),i.a.createElement("h2",{className:"d-none d-md-block color-primary-light mb-2"},a&&t("play.no_mission")),i.a.createElement("p",{className:"mb-0"},a&&t("play.no_ship_1")," \xab GO \xbb ",a&&t("play.no_ship_2")))}}]),a}(n.Component)),Ga=Object(A.a)()(Object(l.b)((function(e){return{currentOrganisation:e.user.currentOrganisation}}))(Qa)),Va=a(350),Fa=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;Object(j.a)(this,a),(n=t.call(this,e))._idMecaniqueImg=7,n._onSelect=function(e){if(!n.props.isRecap){var t=[];n.state.selectedReponseIds&&n.state.selectedReponseIds.length>0?-1!==n.state.selectedReponseIds.indexOf(e.id_reponse)?t=n.state.selectedReponseIds.filter((function(t){return t!==e.id_reponse})):(t=n.state.selectedReponseIds).push(e.id_reponse):t=[e.id_reponse],n.setState({selectedReponseIds:t},(function(){n.props.onSelect(n.state.selectedReponseIds)}))}};var i=n.props.isRecap?n.props.question.reponse_saisie:[];return n.state={selectedReponseIds:i},n}return Object(M.a)(a,[{key:"render",value:function(){var e,t,a,n,r=this,s=this.props.isRecap;return this.props.question.id_mecanique===this._idMecaniqueImg?i.a.createElement(ee.a,{fluid:!0,className:"conteneur-reponse-img"},i.a.createElement(Xt.a,{className:"justify-content-md-center"},null===(e=this.props.question)||void 0===e||null===(t=e.listReponse)||void 0===t?void 0:t.map((function(e,t){var a,n,l,o;return i.a.createElement(Kt.a,{xs:6,md:3,key:"col-".concat(e.id_reponse),className:"mb-4"},i.a.createElement("div",{className:"m-0 p-0 position-relative conteneur-img".concat(s||-1===(null===(a=r.state.selectedReponseIds)||void 0===a?void 0:a.indexOf(e.id_reponse))?"":" img-active")},i.a.createElement("img",{src:"".concat("","/upload/quizz").concat(e.asset),alt:e.nom,className:"item-reponse mw-100".concat(s?"":" pointer","\n                      ").concat(-1!==(null===(n=r.state.selectedReponseIds)||void 0===n?void 0:n.indexOf(e.id_reponse))?" active":"","\n                      ").concat(s&&-1!==(null===(l=r.props.question.reponse)||void 0===l?void 0:l.indexOf(e.id_reponse))?" active-reponse-ok":""),onClick:function(){return r._onSelect(e)}}),s?i.a.createElement("span",null):i.a.createElement(Q.a.Check,{checked:-1!==(null===(o=r.state.selectedReponseIds)||void 0===o?void 0:o.indexOf(e.id_reponse)),type:"checkbox",id:"cb-reponse-".concat(e.id_reponse),"aria-label":"Check r\xe9ponse",className:"position-relative check-img text-center mt-2 w-100 p-0",onClick:function(){return r._onSelect(e)},onChange:function(){}})))})))):i.a.createElement(re.a,null,null===(a=this.props.question)||void 0===a||null===(n=a.listReponse)||void 0===n?void 0:n.map((function(e,t){var a,n,l;return i.a.createElement(re.a.Item,{key:e.id_reponse,className:"my-2 d-flex align-items-center".concat(s?"":" pointer","\n              ").concat(-1!==(null===(a=r.state.selectedReponseIds)||void 0===a?void 0:a.indexOf(e.id_reponse))?" active":"","\n              ").concat(s&&-1!==(null===(n=r.props.question.reponse)||void 0===n?void 0:n.indexOf(e.id_reponse))?" active-reponse-ok":""),onClick:function(){return r._onSelect(e)}},s?i.a.createElement("span",null):i.a.createElement(Q.a.Check,{checked:-1!==(null===(l=r.state.selectedReponseIds)||void 0===l?void 0:l.indexOf(e.id_reponse)),type:"checkbox",id:"cb-reponse-".concat(e.id_reponse),"aria-label":"Check r\xe9ponse",onChange:function(){}}),i.a.createElement("p",{className:"mb-0 num_reponse"},i.a.createElement("img",{alt:"Reponse ".concat(t+1),src:"".concat("","/images/question/reponse/reponse").concat(t+1,".png")})),i.a.createElement("p",{className:"mb-0 pl-2"},e.nom))})))}}]),a}(n.Component),Xa=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;Object(j.a)(this,a),(n=t.call(this,e))._idMecaniqueImg=6,n._onSelect=function(e){if(!n.props.isRecap){var t;t=[e.id_reponse],n.setState({selectedReponseIds:t},(function(){n.props.onSelect(n.state.selectedReponseIds)}))}};var i=n.props.isRecap?n.props.question.reponse_saisie:[];return n.state={selectedReponseIds:i},n}return Object(M.a)(a,[{key:"render",value:function(){var e,t,a,n,r=this,s=this.props.isRecap;return this.props.question.id_mecanique===this._idMecaniqueImg?i.a.createElement(ee.a,{fluid:!0,className:"conteneur-reponse-img"},i.a.createElement(Xt.a,{className:"justify-content-md-center"},null===(e=this.props.question)||void 0===e||null===(t=e.listReponse)||void 0===t?void 0:t.map((function(e,t){var a,n,l,o;return i.a.createElement(Kt.a,{xs:6,md:3,key:"col-".concat(e.id_reponse),className:"mb-4"},i.a.createElement("div",{className:"m-0 p-0 position-relative conteneur-img".concat(s||-1===(null===(a=r.state.selectedReponseIds)||void 0===a?void 0:a.indexOf(e.id_reponse))?"":" img-active")},i.a.createElement("img",{src:"".concat("","/upload/quizz").concat(e.asset),alt:e.nom,className:"item-reponse mw-100".concat(s?"":" pointer","\n                      ").concat(-1!==(null===(n=r.state.selectedReponseIds)||void 0===n?void 0:n.indexOf(e.id_reponse))?" active":"","\n                      ").concat(s&&-1!==(null===(l=r.props.question.reponse)||void 0===l?void 0:l.indexOf(e.id_reponse))?" active-reponse-ok":""),onClick:function(){return r._onSelect(e)}}),s?i.a.createElement("span",null):i.a.createElement(Q.a.Check,{checked:-1!==(null===(o=r.state.selectedReponseIds)||void 0===o?void 0:o.indexOf(e.id_reponse)),type:"radio",id:"cb-reponse-".concat(e.id_reponse),"aria-label":"Check r\xe9ponse",className:"position-relative check-img text-center mt-2 w-100 p-0",onClick:function(){return r._onSelect(e)},onChange:function(){}})))})))):i.a.createElement(re.a,null,null===(a=this.props.question)||void 0===a||null===(n=a.listReponse)||void 0===n?void 0:n.map((function(e,t){var a,n;return i.a.createElement(re.a.Item,{key:e.id_reponse,className:"my-2 d-flex align-items-center".concat(s?"":" pointer","\n              ").concat(-1!==(null===(a=r.state.selectedReponseIds)||void 0===a?void 0:a.indexOf(e.id_reponse))?" active":"","\n              ").concat(s&&-1!==(null===(n=r.props.question.reponse)||void 0===n?void 0:n.indexOf(e.id_reponse))?" active-reponse-ok":""),onClick:function(){return r._onSelect(e)}},i.a.createElement("p",{className:"mb-0 num_reponse"},i.a.createElement("img",{alt:"Reponse ".concat(t+1),src:"".concat("","/images/question/reponse/reponse").concat(t+1,".png")})),i.a.createElement("p",{className:"mb-0 pl-2"},e.nom))})))}}]),a}(n.Component),Ka=(a(302),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._onSelect=function(e){n.props.onSelect(n.props.question,e)},n.state={selectedReponseIds:[]},n}return Object(M.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"conteneur-reponse"},this.props.multiple?i.a.createElement(Fa,{onSelect:this._onSelect,question:this.props.question,isRecap:this.props.isRecap}):i.a.createElement(Xa,{onSelect:this._onSelect,question:this.props.question,isRecap:this.props.isRecap}))}}]),a}(n.Component)),Ja=(a(303),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n,r;if(Object(j.a)(this,a),(n=t.call(this,e))._onChange=function(e,t){if(!n.props.isRecap){var a,i=n.state.listReponseWithOrdre,r=i.find((function(t){return t.id===e.id_reponse}));t<r.ordre?(a=i.filter((function(e){return e.ordre>=t&&e.ordre<r.ordre}))).length>0&&a.forEach((function(e){e.ordre++})):t>r.ordre&&(a=i.filter((function(e){return e.ordre<=t&&e.ordre>r.ordre}))).length>0&&a.forEach((function(e){e.ordre--})),r.ordre=t,n.setState({listReponseWithOrdre:i},(function(){var e=n.state.listReponseWithOrdre.sort((function(e,t){return e.ordre-t.ordre}));n.props.onSelect(n.props.question,e.map((function(e){return e.id})))}))}},n._renderListeDeroulante=function(e){var t;return i.a.createElement(Q.a.Control,{as:"select",disabled:n.props.isRecap,onChange:function(t){return n._onChange(e,parseInt(t.target.value))},value:n.state.listReponseWithOrdre.find((function(t){return t.id===e.id_reponse})).ordre},null===(t=n.state.listReponseWithOrdre)||void 0===t?void 0:t.map((function(e,t){return i.a.createElement("option",{value:t,key:e.id+"-"+t},t+1)})))},e.isRecap){var s,l=[];n.props.question.reponse.forEach((function(e){l.push(n.props.question.listReponse.find((function(t){return t.id_reponse===e})))})),n.props.question.listReponse=l,r=null===(s=n.props.question)||void 0===s?void 0:s.reponse_saisie}else{var o,c;r=null===(o=n.props.question)||void 0===o||null===(c=o.listReponse)||void 0===c?void 0:c.map((function(e){return e.id_reponse}))}var u=[];return r.forEach((function(e,t){u.push({id:e,ordre:t})})),n.state={listReponseWithOrdre:u},n}return Object(M.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props.isRecap;return i.a.createElement(re.a,{className:"conteneur-reponse"},null===(e=this.props.question)||void 0===e||null===(t=e.listReponse)||void 0===t?void 0:t.map((function(e,t){return i.a.createElement(re.a.Item,{key:e.id_reponse,className:"my-2 d-flex align-items-center justify-content-between active-reponse".concat(n&&(a.props.question.reponse_saisie.indexOf(e.id_reponse)===a.props.question.reponse.indexOf(e.id_reponse)?" active-reponse-ok":" active-reponse-ko"))},i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("p",{className:"mb-0 num_reponse"},i.a.createElement("img",{alt:"Reponse ".concat(t+1),src:"".concat("","/images/question/reponse/reponse").concat(t+1,".png")})),i.a.createElement("p",{className:"mb-0 pl-2"},e.nom)),a._renderListeDeroulante(e))})))}}]),a}(n.Component)),Ha=a(148),Ya=(a(328),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).videoNode=void 0,n.player=void 0,n._onSelect=function(e){n.props.onSelect(n.props.question,e)},n.state={selectedReponseIds:[]},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.player=Object(Ha.a)(this.videoNode,{autoplay:!1,controls:!0,muted:!0,fluid:!0,width:"100%",height:"100%",sources:[{src:"/upload/quizz"+this.props.question.asset,type:"video/mp4"}]},(function(){e.player.on("playing",(function(){e.props.onPlay(e.props.question)})),e.player.on("pause",(function(){e.props.onPause()}))}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this;return i.a.createElement(ee.a,{fluid:!0,className:"conteneur-reponse"},i.a.createElement(Xt.a,null,i.a.createElement(Kt.a,{xs:12,md:6},i.a.createElement("div",{"data-vjs-player":!0},i.a.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js"}))),i.a.createElement(Kt.a,{xs:12,md:6},this.props.multiple?i.a.createElement(Fa,{onSelect:this._onSelect,question:this.props.question,isRecap:this.props.isRecap}):i.a.createElement(Xa,{onSelect:this._onSelect,question:this.props.question,isRecap:this.props.isRecap}))))}}]),a}(n.Component)),Za=(a(329),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).timer=void 0,n.getCurrentTime=function(){return n.state.timerTime},n.startTimer=function(){n.setState({timerOn:!0,timerTime:n.state.timerTime,timerStart:Date.now()-n.state.timerTime}),n.props.onStartTimer(),n.timer=setInterval((function(){n.setState({timerTime:Date.now()-n.state.timerStart})}),10)},n.stopTimer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!n.props.canStopTimer&&e||(n.setState({timerOn:!1}),clearInterval(n.timer),n.props.onStopTimer(e))},n.restartTimer=function(){clearInterval(n.timer),n.setState({timerStart:0,timerTime:0},(function(){n.startTimer()}))},n.state={timerOn:!!e.done,timerStart:e.initTimer?e.initTimer:0,timerTime:e.initTimer?e.initTimer:0},n}return Object(M.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.timerTime,a=this.props.translations,n=("0"+Math.floor(t/10)%100).slice(-2),r=("0"+Math.floor(t/1e3)%60).slice(-2),s=("0"+Math.floor(t/6e4)%60).slice(-2);return i.a.createElement("div",{className:"chrono"},i.a.createElement("p",{className:"text-center mb-0 d-none d-md-block"},i.a.createElement("img",{src:"/images/question/chronometre.png",alt:"Illustration Chronometre",className:"illustration-chronometre my-3"})),i.a.createElement("div",{className:"stopwatch"},i.a.createElement("h3",{className:"text-center d-none d-md-block"},s," : ",r," : ",n),!1===this.state.timerOn&&this.state.timerTime>0&&i.a.createElement(L.a,{variant:"primary",onClick:this.startTimer},i.a.createElement("span",{className:"d-none d-md-inline"},a("stop_watch.resume")),i.a.createElement("span",{className:"d-inline d-md-none"},i.a.createElement(Le.b,null))),!0===this.state.timerOn&&i.a.createElement(L.a,{variant:this.props.done?"dark":"primary",disabled:!this.props.canStopTimer,onClick:function(){return e.stopTimer(!0)}},i.a.createElement("span",{className:this.props.done?"d-none":"d-none d-md-inline"},a("stop_watch.stop_mission")),i.a.createElement("span",{className:this.props.done?"d-none":"d-inline d-md-none"},i.a.createElement(Le.a,null)),i.a.createElement("span",{className:this.props.done?"d-none d-md-inline":"d-none"},a("stop_watch.mission_ended")),i.a.createElement("span",{className:this.props.done?"d-inline d-md-none":"d-none"},i.a.createElement(Le.e,null)))))}}]),a}(n.Component)),$a=(a(330),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).chronoComponent=void 0,n._loadQuizz=function(){Sa.getQuizz(v.language,{id_module:n.props.dataInitQuizz.selectedModule.id_module,id_niveau:n.props.dataInitQuizz.selectedNiveau.id_niveau}).then((function(e){n.setState({listQuestion:e.results,isLoading:!1},(function(){n.chronoComponent.current.startTimer();var e={type:"SET_LIST_QUESTION",value:n.state.listQuestion};n.props.dispatch(e)}))}))},n._onSelect=function(e,t){e.selectedReponseIds=t,n.setState({hasReponse:e.selectedReponseIds.length>0})},n._onPlayVideo=function(e){e.video_ok=!0,n.chronoComponent.current.stopTimer()},n._onPauseVideo=function(){n.chronoComponent.current.startTimer()},n._onStartTimer=function(){n.setState({isPaused:!1})},n._onStopTimer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({isPaused:!0},(function(){e&&n.state.step<=n.state.listQuestion.length&&n._setShowModalPause(!0)}))},n._setShowModalPause=function(e){var t=!n.state.hasAlreadyPaused&&e;n.setState({showModalPause:e,hasAlreadyPaused:!0},(function(){if(e||n.chronoComponent.current.startTimer(),t){n.props.dispatch({type:"SET_PAUSE_QUIZZ",value:!0})}}))},n._setShowModalHelp=function(e){n.setState({showModalHelp:e},(function(){e?n.chronoComponent.current.stopTimer():n.chronoComponent.current.startTimer()}))},n.chronoComponent=i.a.createRef(),n.state={isLoading:!0,step:1,hasReponse:!1,isPaused:!1,hasAlreadyPaused:!!e.dataInitQuizz.hasAlreadyPaused,listQuestion:e.dataInitQuizz.listQuestion&&e.dataInitQuizz.listQuestion.length>0?e.dataInitQuizz.listQuestion:[]},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this._loadQuizz()}},{key:"_saveReponse",value:function(e,t){for(var a=this,n=this.state.step,i=this.chronoComponent.current.getCurrentTime(),r=0;r<t;r++)i-=this.state.listQuestion[r].temps_reponse;e.temps_reponse=i,this.state.isPaused&&this.chronoComponent.current.startTimer(),this.setState({step:++n,hasReponse:!1,isPaused:!1},(function(){a.state.step>a.state.listQuestion.length&&(a.chronoComponent.current.stopTimer(),Sa.setReponseQuizz({listQuestion:a.state.listQuestion,selectedModule:a.props.dataInitQuizz.selectedModule,selectedNiveau:a.props.dataInitQuizz.selectedNiveau}).then((function(){a.props.dispatch({type:"SET_PAUSE_QUIZZ",value:!1})})))}))}},{key:"_renderMecanique",value:function(e){var t=this.props,a=t.t,n=t.tReady;switch(e.id_mecanique){case 1:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.chose_answer")),i.a.createElement(Ka,{question:e,onSelect:this._onSelect}));case 2:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.check_answer")),i.a.createElement(Ka,{question:e,onSelect:this._onSelect,multiple:!0}));case 3:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.watch_video_one")),i.a.createElement(Ya,{question:e,onSelect:this._onSelect,onPlay:this._onPlayVideo,onPause:this._onPauseVideo}));case 4:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.watch_video_multiple")),i.a.createElement(Ya,{question:e,onSelect:this._onSelect,multiple:!0,onPlay:this._onPlayVideo,onPause:this._onPauseVideo}));case 5:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.click_number_list")),i.a.createElement(Ja,{question:e,onSelect:this._onSelect}));case 6:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.find_good")),i.a.createElement(Ka,{question:e,onSelect:this._onSelect}));case 7:return i.a.createElement("div",null,i.a.createElement("p",null,n&&a("quizz.click_pic")),i.a.createElement(Ka,{question:e,onSelect:this._onSelect,multiple:!0}))}}},{key:"render",value:function(){var e,t,a,n,r,s,l,o,c,u,m,d,p,v,_,h,f,g,E,b,y,N=this,k=this.props,x=k.t,w=k.tReady;return this.state.isLoading?i.a.createElement("div",{className:"main-encart"},i.a.createElement("div",{className:"p-2 d-flex align-items-center"},i.a.createElement(Va.a,{animation:"grow",variant:"primary",size:"sm"}),i.a.createElement("p",{className:" ml-2 mb-0"},w&&x("utils.loading")))):i.a.createElement("div",{className:"d-flex flex-column flex-md-row quizz-container"},i.a.createElement("div",{className:"main-quizz w-100"},i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/question/module/"+(null===(e=this.props.dataInitQuizz.selectedModule)||void 0===e?void 0:e.image),alt:"Illustration module ".concat(null===(t=this.props.dataInitQuizz.selectedModule)||void 0===t?void 0:t.nom),className:"ico-titre"}),null===(a=this.props.dataInitQuizz.selectedModule)||void 0===a?void 0:a.nom," -"," ",null===(n=this.props.dataInitQuizz.selectedNiveau)||void 0===n?void 0:n.nom),i.a.createElement("div",{className:"main-encart"},i.a.createElement("div",{className:"d-none d-md-flex mb-2 titre align-items-center"},i.a.createElement("img",{src:"/images/question/module/"+(null===(r=this.props.dataInitQuizz.selectedModule)||void 0===r?void 0:r.image),alt:"Illustration module ".concat(null===(s=this.props.dataInitQuizz.selectedModule)||void 0===s?void 0:s.nom)}),i.a.createElement("div",{className:"ml-2"},i.a.createElement("h2",{className:"color-primary-light mb-1"},null===(l=this.props.dataInitQuizz.selectedModule)||void 0===l?void 0:l.nom," ",i.a.createElement("strong",{className:"color-primary"},"- ",null===(o=this.props.dataInitQuizz.selectedNiveau)||void 0===o?void 0:o.nom)),i.a.createElement("p",{className:"mb-0"},"Question"," ",this.state.step<=(null===(c=this.state.listQuestion)||void 0===c?void 0:c.length)?this.state.step:null===(u=this.state.listQuestion)||void 0===u?void 0:u.length," ","/ ",null===(m=this.state.listQuestion)||void 0===m?void 0:m.length))),this.state.step<=(null===(d=this.state.listQuestion)||void 0===d?void 0:d.length)?null===(p=this.state.listQuestion)||void 0===p?void 0:p.map((function(e,t){return i.a.createElement("div",{key:e.id_question,className:"question question".concat(e.id_module," step").concat(t+1).concat(t+1===N.state.step?" active":"")},i.a.createElement("h3",{className:"mb-1"},e.nom),N._renderMecanique(e),i.a.createElement("p",{className:"text-right mb-0 mt-4"},i.a.createElement(L.a,{variant:"primary",disabled:!N.state.hasReponse,onClick:function(){return N._saveReponse(e,t)},className:"btn-submit position-relative"},w&&x("quizz.valid_answer"),i.a.createElement("span",{className:"time-loader".concat(N.state.isPaused?" paused":"")}))))})):i.a.createElement("div",{className:"text-center outro mt-4"},i.a.createElement("p",{className:"text-center mb-5"},i.a.createElement("img",{src:"/images/question/module/astro_"+(null===(v=this.props.dataInitQuizz)||void 0===v||null===(_=v.selectedModule)||void 0===_?void 0:_.image),alt:"Illustration module ".concat(null===(h=this.props.dataInitQuizz)||void 0===h||null===(f=h.selectedModule)||void 0===f?void 0:f.nom),className:"illustration-module-done"})),i.a.createElement("h2",{className:"color-primary-light mb-3 text-center"},w&&x("quizz.module_ended")),i.a.createElement("p",null," ",w&&x("quizz.congrat")),i.a.createElement("p",{className:"mb-0"},w&&x("quizz.get_score")),i.a.createElement("p",{className:"text-right mb-0 mt-4"},i.a.createElement(L.a,{variant:"primary",className:"btn-submit",href:"#/Jouer/RecapQuizz/".concat(null===(g=this.props.dataInitQuizz)||void 0===g||null===(E=g.selectedModule)||void 0===E?void 0:E.id_module,"/").concat(null===(b=this.props.dataInitQuizz.selectedNiveau)||void 0===b?void 0:b.id_niveau)},w&&x("quizz.see_results")))))),i.a.createElement("div",{className:"toolbar-right ml-0 ml-md-5 d-flex d-md-block"},i.a.createElement(Za,{ref:this.chronoComponent,onStopTimer:this._onStopTimer,onStartTimer:this._onStartTimer,canStopTimer:!this.state.hasAlreadyPaused&&this.state.step<=(null===(y=this.state.listQuestion)||void 0===y?void 0:y.length),translations:x}),i.a.createElement(L.a,{variant:"primary",onClick:function(){return N._setShowModalHelp(!0)},className:"mt-md-3"},i.a.createElement("span",{className:"d-none d-md-inline"},w&&x("quizz.mission_mark")),i.a.createElement("span",{className:"d-inline d-md-none"},i.a.createElement(Le.c,null)))),i.a.createElement(wt.a,{show:this.state.showModalPause,onHide:function(){return N._setShowModalPause(!1)},dialogClassName:"modal-pause",centered:!0},i.a.createElement("div",{className:"content"},i.a.createElement(wt.a.Body,null,i.a.createElement("h2",{className:"color-primary"},w&&x("quizz.break")),i.a.createElement("p",null,w&&x("quizz.lose_a_sec"))),i.a.createElement(wt.a.Footer,null,i.a.createElement(L.a,{variant:"primary",onClick:function(){return N._setShowModalPause(!1)}},w&&x("quizz.back_to_game"))))),i.a.createElement(wt.a,{show:this.state.showModalHelp,onHide:function(){return N._setShowModalHelp(!1)},dialogClassName:"modal-help",centered:!0},i.a.createElement("div",{className:"content"},i.a.createElement(wt.a.Body,null,i.a.createElement("h2",{className:"color-primary"},w&&x("quizz.problem")),i.a.createElement("h4",{className:"color-primary-light"},w&&x("quizz.how_answer")),i.a.createElement("div",{className:"mt-2 d-flex align-items-center justify-content-between"},i.a.createElement("div",{className:"mt-2 mt-md-0"},i.a.createElement("p",{className:"p-rep p-chrono"},i.a.createElement("strong",null,w&&x("quizz.minute")),w&&x("quizz.to_win_more")),i.a.createElement("p",{className:"p-rep p-eclair"},i.a.createElement("strong",null,w&&x("quizz.mutiple_answer"))),i.a.createElement("p",{className:"p-rep p-coeur"},w&&x("quizz.chose")," ",i.a.createElement("strong",null,"A, B, C ",w&&x("quizz.and_or")," D")),i.a.createElement("p",{className:"p-rep p-flag mb-0"},w&&x("quizz.click_on")," ",i.a.createElement("strong",null,w&&x("quizz.valid_answers")))),i.a.createElement("div",{className:"d-none d-md-block"},i.a.createElement("img",{src:"/images/astronaute/astro_hello.png",alt:"Illustration Astronaute",className:"ico-modal mr-5"})))),i.a.createElement(wt.a.Footer,null,i.a.createElement(L.a,{variant:"primary",onClick:function(){return N._setShowModalHelp(!1)}},w&&x("quizz.received"))))))}}]),a}(n.Component)),en=Object(A.a)()(Object(l.b)((function(e){return{currentUser:e.user.currentUser,dataInitQuizz:e.quizz}}))($a)),tn=(a(331),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e))._loadRecapQuizz=function(){var e=n.props.match.params;Object(T.a)([Sa.getModule(v.language,e.moduleId),Sa.getNiveau(v.language,e.niveauId),Sa.getRecapQuizz(v.language,{id_module:e.moduleId,id_niveau:e.niveauId}),yt.checkLevelUp(),yt.checkNewMedal(v.language)]).toPromise().then((function(e){var t=function(e,t){return e+t},a=e[2].results?e[2].results:[],i=0,r=0,s=0;a&&a.length>0&&(i=a.map((function(e){return parseInt(e.temps_reponse.toString())})).reduce(t),s=a.map((function(e){return e.nb_xp})).reduce(t),r=a.map((function(e){return e.nb_point})).reduce(t)),n.setState({currentModule:e[0].results,currentNiveau:e[1].results,listQuestion:a,isLoading:!1,tempsTotal:i,nbXpTotal:s,nbPointTotal:r},(function(){if(e[4]&&e[4].length>0){var t={type:"NEW_MEDAL",value:e[4]};n.props.dispatch(t)}e[3]&&e[3].hasLevelUp&&yt.getUser(v.language,"current").then((function(t){var a={type:"SET_CURRENT_USER",value:t};n.props.dispatch(a);var i={type:"LEVEL_UP",value:e[3]};n.props.dispatch(i)}))}))}))},n.state={isLoading:!0,tempsTotal:0},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this._loadRecapQuizz()}},{key:"_renderMecanique",value:function(e){switch(e.id_mecanique){case 1:return i.a.createElement("div",null,i.a.createElement(Ka,{question:e,isRecap:!0}));case 2:return i.a.createElement("div",null,i.a.createElement(Ka,{question:e,multiple:!0,isRecap:!0}));case 3:return i.a.createElement("div",null,i.a.createElement(Ya,{question:e,isRecap:!0}));case 4:return i.a.createElement("div",null,i.a.createElement(Ya,{question:e,multiple:!0,isRecap:!0}));case 5:return i.a.createElement("div",null,i.a.createElement(Ja,{question:e,isRecap:!0}));case 6:return i.a.createElement("div",null,i.a.createElement(Ka,{question:e,isRecap:!0}));case 7:return i.a.createElement("div",null,i.a.createElement(Ka,{question:e,multiple:!0,isRecap:!0}))}}},{key:"render",value:function(){var e,t,a,n,r,s,l,o,c,u,m=this,d=this.props,p=d.t,v=d.tReady,_=("0"+Math.floor(this.state.tempsTotal/1e3)%60).slice(-2),h=("0"+Math.floor(this.state.tempsTotal/6e4)%60).slice(-2);return i.a.createElement("div",{className:"d-flex flex-column flex-md-row"},i.a.createElement("div",{className:"main-recap-quizz w-100"},i.a.createElement("h1",{className:"color-white d-flex d-md-none justify-content-center"},i.a.createElement("img",{src:"/images/question/module/"+(null===(e=this.state.currentModule)||void 0===e?void 0:e.image),alt:"Illustration module ".concat(null===(t=this.state.currentModule)||void 0===t?void 0:t.nom),className:"ico-titre"}),null===(a=this.state.currentModule)||void 0===a?void 0:a.nom," - ",null===(n=this.state.currentNiveau)||void 0===n?void 0:n.nom),i.a.createElement("div",{className:"main-encart nobg-mobile main-entete"},i.a.createElement("div",{className:"d-flex flex-column flex-md-row"},i.a.createElement("div",null,i.a.createElement("div",{className:"d-none d-md-flex mb-2 titre align-items-center"},i.a.createElement("img",{src:"/images/question/module/"+(null===(r=this.state.currentModule)||void 0===r?void 0:r.image),alt:"Illustration module ".concat(null===(s=this.state.currentModule)||void 0===s?void 0:s.nom)}),i.a.createElement("div",{className:"ml-2"},i.a.createElement("h2",{className:"color-primary-light mb-1"},null===(l=this.state.currentModule)||void 0===l?void 0:l.nom," ",i.a.createElement("strong",{className:"color-primary"},"- ",null===(o=this.state.currentNiveau)||void 0===o?void 0:o.nom)),i.a.createElement("p",{className:"mb-0 d-none d-md-block"},v&&p("recap_quizz.exploration_result")))),i.a.createElement("h3",{className:"mb-0 d-block d-md-none color-white1"},v&&p("recap_quizz.exploration_result")),i.a.createElement("div",{className:"mt-4"},i.a.createElement("h5",{className:"d-block d-md-flex flex-md-row align-items-center"},i.a.createElement("span",{className:"d-block d-md-inline-block"},v&&p("recap_quizz.score")," "),i.a.createElement("span",{className:"color-primary-light h4 mb-0 ml-md-2 d-block d-md-inline-block span-result"},this.state.listQuestion?this.state.listQuestion.filter((function(e){return e.valid})).length:0,"/",null===(c=this.state.listQuestion)||void 0===c?void 0:c.length,v&&p("recap_quizz.good_answers"))),i.a.createElement("h5",{className:"mt-3 d-block d-md-flex flex-md-row align-items-center"},i.a.createElement("span",{className:"d-block d-md-inline-block"},v&&p("recap_quizz.exploration_time")," "),i.a.createElement("span",{className:"color-primary-light h4 mb-0 ml-md-2 d-block d-md-inline-block span-result"},h,v&&p("recap_quizz.min_and")," ",_,"sec")))),i.a.createElement("div",{className:"sep d-none d-md-flex flex-column mx-4 justify-content-center"},i.a.createElement("p",null)),i.a.createElement("div",{className:"pl-md-1"},i.a.createElement("h5",{className:"d-none d-md-block"},v&&p("recap_quizz.rewards")),i.a.createElement("div",{className:"color-primary-light"},i.a.createElement("h5",{className:"d-block d-md-none color-black1 mt-2"},v&&p("recap_quizz.exp_earned")),i.a.createElement("h2",{className:"total-xp mb-0"},"+ ",this.state.nbXpTotal," EXP"),i.a.createElement("p",{className:"mb-4 d-none d-md-block"},i.a.createElement("small",null,v&&p("recap_quizz.exp_earned"))),i.a.createElement("h5",{className:"d-block d-md-none color-black1 mt-2"},v&&p("recap_quizz.points_game")),i.a.createElement("h2",{className:"total-point mb-0"},"+ ",this.state.nbPointTotal," Points"),i.a.createElement("p",{className:"mb-0 d-none d-md-block"},i.a.createElement("small",null,v&&p("recap_quizz.points_game"))))))),i.a.createElement("div",{className:"main-encart nobg-mobile"},i.a.createElement("h2",{className:"color-primary-light mb-1 d-none d-md-block"},v&&p("recap_quizz.answer_recap")),i.a.createElement("p",null,v&&p("recap_quizz.answer_below")),null===(u=this.state.listQuestion)||void 0===u?void 0:u.map((function(e,t){var a,n,r,s,l,o;return i.a.createElement("div",{key:e.id_question,className:"recap question".concat(e.valid?" valid":" invalid")},i.a.createElement("div",{className:"mt-md-4 intitule"},i.a.createElement("h4",{className:"mb-3 d-block d-md-none color-primary-light"},"Question ",t+1,"/",null===(a=m.state.listQuestion)||void 0===a?void 0:a.length),i.a.createElement("h5",null,e.nom),i.a.createElement("p",{className:"mb-0 d-none d-md-block"},"Question ",t+1,"/",null===(n=m.state.listQuestion)||void 0===n?void 0:n.length)),e.valid?i.a.createElement("p",{className:"p-result pl-md-3 mt-3"},v&&p("recap_quizz.good_answer")):i.a.createElement("p",{className:"p-result pl-md-3 mt-3"},v&&p("recap_quizz.bad_answer")),i.a.createElement("div",{className:"mt-4"},m._renderMecanique(e)),e.astuce?i.a.createElement("div",{className:"mt-4 astuce d-md-flex align-items-center"},i.a.createElement("p",{className:"mb-0 illustration"},i.a.createElement("img",{src:"/images/question/module/astro_"+(null===(r=m.state.currentModule)||void 0===r?void 0:r.image),alt:"Illustration module ".concat(null===(s=m.state.currentModule)||void 0===s?void 0:s.nom),className:"illustration-module-done d-none d-md-inline"})),i.a.createElement("div",{className:"ml-3"},i.a.createElement("h3",{className:"color-primary-light"},i.a.createElement("img",{src:"/images/question/module/astro_"+(null===(l=m.state.currentModule)||void 0===l?void 0:l.image),alt:"Illustration module ".concat(null===(o=m.state.currentModule)||void 0===o?void 0:o.nom),className:"ico-titre d-inline d-md-none mr-2"}),v&&p("recap_quizz.tip")),i.a.createElement("p",{className:"mb-0"},e.astuce))):i.a.createElement("span",null))})),i.a.createElement("p",{className:"text-right mt-5 d-flex d-md-block"},i.a.createElement(L.a,{variant:"primary",className:"d-inline-block mr-3",href:"#/Jouer"},v&&p("recap_quizz.new_module")),i.a.createElement(L.a,{variant:"primary",className:"d-inline-block",href:"#/Cockpit"},v&&p("recap_quizz.back"))))),i.a.createElement("div",{className:"toolbar-right ml-0 ml-md-5"},this.state.isLoading?i.a.createElement("span",null):i.a.createElement(Za,{done:!0,initTimer:this.state.tempsTotal,translations:p})))}}]),a}(n.Component)),an=Object(A.a)()(Object(l.b)()(tn)),nn=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;Object(j.a)(this,a),(n=t.call(this,e)).subscriptionModal=void 0,n._hasModal=function(){n.state.isWeekend||n.state.showModalLevelUp||n.state.showModalNewMedal||!(n.props.dataLevelUp&&n.props.dataLevelUp.hasLevelUp||n.props.listNewMedal)||(n.props.listNewMedal?n._setShowModalNewMedal(!0):n._setShowModalLevelUp(!0))},n._setShowModalLevelUp=function(e){n.setState({showModalLevelUp:e})},n._setShowModalNewMedal=function(e){n.setState({showModalNewMedal:e})},n._setLevelUpChecked=function(){yt.checkLevelUp().then((function(e){var t={type:"LEVEL_UP",value:e&&e.hasLevelUp?e:null};n.props.dispatch(t),n._setShowModalLevelUp(!1)}))},n._setNewMedalChecked=function(){n.props.dispatch({type:"NEW_MEDAL",value:null}),n._setShowModalNewMedal(!1)};var i=(new Date).getDay();return n.state={showModalLevelUp:!1,showModalNewMedal:!1,isWeekend:0===i||6===i},n}return Object(M.a)(a,[{key:"componentDidUpdate",value:function(){this.subscriptionModal=this._hasModal()}},{key:"componentWillUnmount",value:function(){delete this.subscriptionModal}},{key:"render",value:function(){var e=window.innerWidth<768,t=this.props,a=t.hasGradient,n=t.dataLevelUp,r=t.listNewMedal;return e?i.a.createElement(kt,{currentRouterLink:this.props.location.pathname},!this.state.isWeekend&&i.a.createElement(R.d,null,i.a.createElement(R.b,{exact:!0,path:"/Cockpit"},i.a.createElement(oa,{isMobile:e})),i.a.createElement(R.b,{exact:!0,path:"/Jouer"},i.a.createElement(Ga,null)),i.a.createElement(R.b,{exact:!0,path:"/Jouer/Quizz"},i.a.createElement(en,null)),i.a.createElement(R.b,{exact:!0,path:"/Jouer/RecapQuizz/:moduleId/:niveauId",component:an}),i.a.createElement(R.b,{exact:!0,path:"/Classement"},i.a.createElement(ft,null)),i.a.createElement(R.b,{exact:!0,path:"/Profil"},i.a.createElement(pa,null)),i.a.createElement(R.b,{exact:!0,path:"/Regles"},i.a.createElement(Ma,null))),i.a.createElement(Ft,{dataLevelUp:n,show:this.state.showModalLevelUp,setLevelUpChecked:this._setLevelUpChecked}),i.a.createElement(Ht,{listNewMedal:r,show:this.state.showModalNewMedal,setNewMedalChecked:this._setNewMedalChecked}),i.a.createElement(Zt,{isWeekend:this.state.isWeekend})):i.a.createElement(te,{hasGradient:a},!this.state.isWeekend&&i.a.createElement(ce,{currentRouterLink:this.props.location.pathname}),i.a.createElement("div",{className:"main-content w-100 py-4 px-3 px-md-5"},i.a.createElement("div",{className:"mb-3"},i.a.createElement(ue,{hasGradient:a})),!this.state.isWeekend&&i.a.createElement(R.d,null,i.a.createElement(R.b,{exact:!0,path:"/Cockpit"},i.a.createElement(oa,{isMobile:e})),i.a.createElement(R.b,{exact:!0,path:"/Jouer"},i.a.createElement(Ga,null)),i.a.createElement(R.b,{exact:!0,path:"/Jouer/Quizz"},i.a.createElement(en,null)),i.a.createElement(R.b,{exact:!0,path:"/Jouer/RecapQuizz/:moduleId/:niveauId",component:an}),i.a.createElement(R.b,{exact:!0,path:"/Classement"},i.a.createElement(ft,null)),i.a.createElement(R.b,{exact:!0,path:"/Profil"},i.a.createElement(pa,null)),i.a.createElement(R.b,{exact:!0,path:"/Regles"},i.a.createElement(Ma,null)))),i.a.createElement(Ft,{dataLevelUp:n,show:this.state.showModalLevelUp,setLevelUpChecked:this._setLevelUpChecked}),i.a.createElement(Ht,{listNewMedal:r,show:this.state.showModalNewMedal,setNewMedalChecked:this._setNewMedalChecked}),i.a.createElement(Zt,{isWeekend:this.state.isWeekend}))}}]),a}(i.a.Component),rn=Object(R.g)(nn),sn=Object(l.b)((function(e){return{dataLevelUp:e.user.dataLevelUp,listNewMedal:e.user.listNewMedal}}))(rn),ln=(a(332),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onLogin,a=e.t,n=e.tReady;return i.a.createElement(ee.a,{fluid:!0,className:"main-container h-100 d-flex flex-column align-items-center justify-content-center p-0"},i.a.createElement("div",{className:"App-login px-3"},i.a.createElement("div",{className:"App-login-image-container"},i.a.createElement("img",{src:"/images/logo/"+v.language+"/logo_centre_violet.png",alt:"Logo",className:"logo "+("en"===v.language?"mb-5 mt-5 pl-3 pr-3":"")})),i.a.createElement("div",{className:"App-login-button-container text-center pb-4"},i.a.createElement(L.a,{variant:"primary",className:"d-inline-flex align-items-center",onClick:function(){return t()}},i.a.createElement("img",{className:"btn-ico mr-2",alt:"Microsoft logo",src:"/images/logo/microsoft.png"}),i.a.createElement("span",{className:"label"},n&&a("utils.login"))))))}}]),a}(i.a.Component)),on=Object(A.a)()(ln),cn=(a(333),function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.tReady;return i.a.createElement(ee.a,{fluid:!0,className:"main-container h-100 d-flex flex-column align-items-center justify-content-center p-0"},i.a.createElement("div",{className:"App-loading p-2 d-flex align-items-center"},i.a.createElement(Va.a,{animation:"grow",variant:"primary",size:"sm"}),i.a.createElement("p",{className:" ml-2 mb-0"},a&&t("utils.loading"))))}}]),a}(i.a.Component)),un=Object(A.a)()(cn),mn=new(function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource="/organisation",e}return Object(M.a)(a,[{key:"getOrganisationInfos",value:function(e){return Object(K.a)(Object(J.a)(a.prototype),"fetchGET",this).call(this,this.resource+"/infos",{id_organisation:e})}}]),a}(H)),dn=function(e){Object(S.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).login=function(){je.login().then((function(e){e?n.setState({userAD:e,loading:!1},(function(){n._loadCurrentUser()})):n.setState({loading:!1})})).catch((function(e){n.setState({loading:!1})}))},n.onCompleteLanding=function(e){yt.createUserByAD(v.language,{ad:n.state.userAD,id_avatar:e.avatarSelected}).then((function(e){n._loadCurrentUser()}))},n._loadCurrentUser=function(){n.state.userAD&&(I.a.set("oid_ad",n.state.userAD.idToken.oid,{expires:7,path:"/"}),yt.getUser(v.language,"current").then((function(e){e?Object(T.a)([mn.getOrganisationInfos(e.id_organisation),yt.getCurrentCampaignInfo(v.language)]).toPromise().then((function(t){var a={type:"SET_CURRENT_USER",value:e};n.props.dispatch(a);var i={type:"SET_CURRENT_ORGANISATION",value:t[0]};n.props.dispatch(i);var r={type:"SET_CURRENT_CAMPAIGN",value:t[1]?t[1].results:null};n.props.dispatch(r),n.setState({logged:!0,is_admin:2===e.id_role,loading:!1})})):n.setState({logged:!1,loading:!1})})))},n.state={logged:!1,loading:!0,is_admin:!1},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this;je.getToken().then((function(){return je.getUser().then((function(t){e.setState({userAD:t||!1,error:null},(function(){t?e._loadCurrentUser():e.setState({loading:!1})}))}))})).catch((function(t){e.setState({userAD:null,loading:!1,error:t})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.tReady;if(this.state.logged&&"/"===this.props.location.pathname)return i.a.createElement(R.a,{to:"/Cockpit"});var r,s=window.innerWidth<=768;if(this.state.loading)return i.a.createElement(un,null);if(je.isCallback())return i.a.createElement("div",null,(null===(r=this.state)||void 0===r?void 0:r.error)?i.a.createElement("div",{className:"App-error"},JSON.stringify(this.state.error)):i.a.createElement("p",null,n&&a("modal.utils.error_unknown")));if(!this.state.userAD)return i.a.createElement(on,{onLogin:function(){return e.login()}});if(!this.state.logged)return i.a.createElement($,{onCompleteLanding:this.onCompleteLanding,isMobile:s});if(this.state.is_admin)return i.a.createElement(bt,null);if(!this.state.is_admin){var l=-1===this.props.location.pathname.indexOf("/Jouer");return i.a.createElement(sn,{hasGradient:l})}}}]),a}(i.a.Component),pn=Object(R.g)(dn),vn=Object(A.a)()(Object(l.b)((function(e){return{}}))(pn));a(334);s.a.render(i.a.createElement(l.a,{store:O},i.a.createElement(o.a,{loading:null,persistor:C},i.a.createElement(c.a,null,i.a.createElement(vn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[149,1,2]]]);
//# sourceMappingURL=main.709f3c40.chunk.js.map